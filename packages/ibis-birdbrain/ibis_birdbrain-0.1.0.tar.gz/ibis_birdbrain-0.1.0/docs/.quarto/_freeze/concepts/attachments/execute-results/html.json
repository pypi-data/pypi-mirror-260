{
  "hash": "e1d529a819e9e68cc7f0a9043ae41cbb",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: Attachments\n---\n\n\n\nIbis Birdbrain passes Python objects as `Attachments` to [`Messages`](./messages.qmd). This allows the user, itself, and (eventually) other bots to interact with data, code, and more.\n\n\n## Usage\n\n\n::: {#ee193624 .cell execution_count=1}\n``` {.python .cell-code}\nfrom ibis_birdbrain.attachments import Attachment, Attachments\n\na1 = Attachment(content=\"Hello, world!\")\na1\n```\n\n::: {.cell-output .cell-output-display execution_count=10}\n```\nAttachment\n    **guid**: 80dffb16-2493-49cd-ba74-819512179b32\n    **time**: 2024-03-05 09:07:29.230828\n    **name**: None\n    **desc**: None\n```\n:::\n:::\n\n\n## TableAttachment\n\nA `TableAttachment` contains an Ibis table:\n\n::: {#09820abe .cell execution_count=2}\n``` {.python .cell-code}\nimport ibis\n\nfrom ibis_birdbrain.attachments import TableAttachment\n\nibis.options.interactive = True\n\nt = ibis.examples.penguins.fetch()\n\na2 = TableAttachment(content=t)\na2\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nINFO:pins.cache:cache file: /Users/cody/Library/Caches/pins-py/gcs_332a30997e141da0e08f15fbfae8b3c3ec90463922d117a96fa3b1bef85a2a4c/penguins/20230905T090411Z-9aae2/data.txt\nINFO:pins.cache:cache file: /Users/cody/Library/Caches/pins-py/gcs_332a30997e141da0e08f15fbfae8b3c3ec90463922d117a96fa3b1bef85a2a4c/penguins/20230905T090411Z-9aae2/penguins.csv.gz\n```\n:::\n\n::: {.cell-output .cell-output-display}\n```{=html}\n<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\"></pre>\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=11}\n\n::: {.ansi-escaped-output}\n```{=html}\n<pre>TableAttachment\n    **guid**: 95374920-3a86-4287-86dd-7e33e2410091\n    **time**: 2024-03-05 09:07:29.724794\n    **name**: penguins\n    **desc**: \nibis.Schema {\n  species            string\n  island             string\n  bill_length_mm     float64\n  bill_depth_mm      float64\n  flipper_length_mm  int64\n  body_mass_g        int64\n  sex                string\n  year               int64\n}\n                **table**:\n┏━━━━━━━━━┳━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━┳━━━━━━━┓\n┃<span class=\"ansi-bold\"> </span><span class=\"ansi-bold\">species</span><span class=\"ansi-bold\"> </span>┃<span class=\"ansi-bold\"> </span><span class=\"ansi-bold\">island</span><span class=\"ansi-bold\">   </span><span class=\"ansi-bold\"> </span>┃<span class=\"ansi-bold\"> </span><span class=\"ansi-bold\">bill_length_mm</span><span class=\"ansi-bold\"> </span>┃<span class=\"ansi-bold\"> </span><span class=\"ansi-bold\">bill_depth_mm</span><span class=\"ansi-bold\"> </span>┃<span class=\"ansi-bold\"> </span><span class=\"ansi-bold\">flipper_length_mm</span><span class=\"ansi-bold\"> </span>┃<span class=\"ansi-bold\"> </span><span class=\"ansi-bold\">body_mass_g</span><span class=\"ansi-bold\"> </span>┃<span class=\"ansi-bold\"> </span><span class=\"ansi-bold\">sex</span><span class=\"ansi-bold\">   </span><span class=\"ansi-bold\"> </span>┃<span class=\"ansi-bold\"> </span><span class=\"ansi-bold\">year</span><span class=\"ansi-bold\"> </span><span class=\"ansi-bold\"> </span>┃\n┡━━━━━━━━━╇━━━━━━━━━━━╇━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━╇━━━━━━━┩\n│ string  │ string    │ float64        │ float64       │ int64             │ int64       │ string │ int64 │\n├─────────┼───────────┼────────────────┼───────────────┼───────────────────┼─────────────┼────────┼───────┤\n│ <span class=\"ansi-green-fg\">Adelie </span> │ <span class=\"ansi-green-fg\">Torgersen</span> │           <span class=\"ansi-cyan-fg ansi-bold\">39.1</span> │          <span class=\"ansi-cyan-fg ansi-bold\">18.7</span> │               <span class=\"ansi-cyan-fg ansi-bold\">181</span> │        <span class=\"ansi-cyan-fg ansi-bold\">3750</span> │ <span class=\"ansi-green-fg\">male  </span> │  <span class=\"ansi-cyan-fg ansi-bold\">2007</span> │\n│ <span class=\"ansi-green-fg\">Adelie </span> │ <span class=\"ansi-green-fg\">Torgersen</span> │           <span class=\"ansi-cyan-fg ansi-bold\">39.5</span> │          <span class=\"ansi-cyan-fg ansi-bold\">17.4</span> │               <span class=\"ansi-cyan-fg ansi-bold\">186</span> │        <span class=\"ansi-cyan-fg ansi-bold\">3800</span> │ <span class=\"ansi-green-fg\">female</span> │  <span class=\"ansi-cyan-fg ansi-bold\">2007</span> │\n│ <span class=\"ansi-green-fg\">Adelie </span> │ <span class=\"ansi-green-fg\">Torgersen</span> │           <span class=\"ansi-cyan-fg ansi-bold\">40.3</span> │          <span class=\"ansi-cyan-fg ansi-bold\">18.0</span> │               <span class=\"ansi-cyan-fg ansi-bold\">195</span> │        <span class=\"ansi-cyan-fg ansi-bold\">3250</span> │ <span class=\"ansi-green-fg\">female</span> │  <span class=\"ansi-cyan-fg ansi-bold\">2007</span> │\n│ <span class=\"ansi-green-fg\">Adelie </span> │ <span class=\"ansi-green-fg\">Torgersen</span> │           NULL │          NULL │              NULL │        NULL │ NULL   │  <span class=\"ansi-cyan-fg ansi-bold\">2007</span> │\n│ <span class=\"ansi-green-fg\">Adelie </span> │ <span class=\"ansi-green-fg\">Torgersen</span> │           <span class=\"ansi-cyan-fg ansi-bold\">36.7</span> │          <span class=\"ansi-cyan-fg ansi-bold\">19.3</span> │               <span class=\"ansi-cyan-fg ansi-bold\">193</span> │        <span class=\"ansi-cyan-fg ansi-bold\">3450</span> │ <span class=\"ansi-green-fg\">female</span> │  <span class=\"ansi-cyan-fg ansi-bold\">2007</span> │\n│ <span class=\"ansi-green-fg\">Adelie </span> │ <span class=\"ansi-green-fg\">Torgersen</span> │           <span class=\"ansi-cyan-fg ansi-bold\">39.3</span> │          <span class=\"ansi-cyan-fg ansi-bold\">20.6</span> │               <span class=\"ansi-cyan-fg ansi-bold\">190</span> │        <span class=\"ansi-cyan-fg ansi-bold\">3650</span> │ <span class=\"ansi-green-fg\">male  </span> │  <span class=\"ansi-cyan-fg ansi-bold\">2007</span> │\n│ <span class=\"ansi-green-fg\">Adelie </span> │ <span class=\"ansi-green-fg\">Torgersen</span> │           <span class=\"ansi-cyan-fg ansi-bold\">38.9</span> │          <span class=\"ansi-cyan-fg ansi-bold\">17.8</span> │               <span class=\"ansi-cyan-fg ansi-bold\">181</span> │        <span class=\"ansi-cyan-fg ansi-bold\">3625</span> │ <span class=\"ansi-green-fg\">female</span> │  <span class=\"ansi-cyan-fg ansi-bold\">2007</span> │\n│ <span class=\"ansi-green-fg\">Adelie </span> │ <span class=\"ansi-green-fg\">Torgersen</span> │           <span class=\"ansi-cyan-fg ansi-bold\">39.2</span> │          <span class=\"ansi-cyan-fg ansi-bold\">19.6</span> │               <span class=\"ansi-cyan-fg ansi-bold\">195</span> │        <span class=\"ansi-cyan-fg ansi-bold\">4675</span> │ <span class=\"ansi-green-fg\">male  </span> │  <span class=\"ansi-cyan-fg ansi-bold\">2007</span> │\n│ <span class=\"ansi-green-fg\">Adelie </span> │ <span class=\"ansi-green-fg\">Torgersen</span> │           <span class=\"ansi-cyan-fg ansi-bold\">34.1</span> │          <span class=\"ansi-cyan-fg ansi-bold\">18.1</span> │               <span class=\"ansi-cyan-fg ansi-bold\">193</span> │        <span class=\"ansi-cyan-fg ansi-bold\">3475</span> │ NULL   │  <span class=\"ansi-cyan-fg ansi-bold\">2007</span> │\n│ <span class=\"ansi-green-fg\">Adelie </span> │ <span class=\"ansi-green-fg\">Torgersen</span> │           <span class=\"ansi-cyan-fg ansi-bold\">42.0</span> │          <span class=\"ansi-cyan-fg ansi-bold\">20.2</span> │               <span class=\"ansi-cyan-fg ansi-bold\">190</span> │        <span class=\"ansi-cyan-fg ansi-bold\">4250</span> │ NULL   │  <span class=\"ansi-cyan-fg ansi-bold\">2007</span> │\n│ …       │ …         │              … │             … │                 … │           … │ …      │     … │\n└─────────┴───────────┴────────────────┴───────────────┴───────────────────┴─────────────┴────────┴───────┘</pre>\n```\n:::\n\n:::\n:::\n\n\nNotice the name, description (schema), and preview are automatically populated.\n\n## CodeAttachment\n\nA `CodeAttachment` contains code -- typically Python or SQL:\n\n::: {#06eca0b9 .cell execution_count=3}\n``` {.python .cell-code}\nfrom ibis_birdbrain.attachments import CodeAttachment\n\na3 = CodeAttachment(content=\"select 1 as id\", language=\"sql\")\na3\n```\n\n::: {.cell-output .cell-output-display execution_count=12}\n```\nCodeAttachment\n    **guid**: 155834a3-a1c1-4b93-9f71-fea15100e9c1\n    **time**: 2024-03-05 09:07:29.756722\n    **name**: None\n    **desc**: None\n    **language**: sql\n    **code**:\nselect 1 as id\n```\n:::\n:::\n\n\n",
    "supporting": [
      "attachments_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\" data-relocate-top=\"true\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}