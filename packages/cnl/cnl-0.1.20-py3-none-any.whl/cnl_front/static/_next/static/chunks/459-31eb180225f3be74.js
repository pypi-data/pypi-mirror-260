"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{4164:function(e,t,a){a.d(t,{a:function(){return r}});var s=a(9546);let r=async e=>{let{newSample:t}=e,{data:a}=await s.Z.post("".concat("http://localhost:5009","/sample"),t);return a}},5228:function(e,t,a){a.d(t,{Zp:function(){return O},at:function(){return D}});var s=a(7514),r=a(5893),n=a(7355),l=a(5847),d=a(40),o=a(1312),i=a(9374),c=a(8803),u=a(783),f=a(5037),m=a(9493),p=a(6433);a(541);let x=c.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(m.mY,{ref:t,className:(0,r.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",a),...n})});x.displayName=m.mY.displayName;let h=c.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,s.jsx)(p.Z,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,s.jsx)(m.mY.Input,{ref:t,className:(0,r.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",a),...n})]})});h.displayName=m.mY.Input.displayName,c.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(m.mY.List,{ref:t,className:(0,r.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",a),...n})}).displayName=m.mY.List.displayName;let g=c.forwardRef((e,t)=>(0,s.jsx)(m.mY.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));g.displayName=m.mY.Empty.displayName;let v=c.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(m.mY.Group,{ref:t,className:(0,r.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",a),...n})});v.displayName=m.mY.Group.displayName,c.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(m.mY.Separator,{ref:t,className:(0,r.cn)("-mx-1 h-px bg-border",a),...n})}).displayName=m.mY.Separator.displayName;let j=c.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(m.mY.Item,{ref:t,className:(0,r.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n})});j.displayName=m.mY.Item.displayName;var y=a(7854),N=a(2124);let b=N.fC,w=N.xz,S=c.forwardRef((e,t)=>{let{className:a,align:n="center",sideOffset:l=4,...d}=e;return(0,s.jsx)(N.h_,{children:(0,s.jsx)(N.VY,{ref:t,align:n,sideOffset:l,className:(0,r.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...d})})});S.displayName=N.VY.displayName;var k=a(3896),_=a(7006),I=a(4107);let z=k.fC;k.ZA;let C=k.B4,R=c.forwardRef((e,t)=>{let{className:a,children:n,...l}=e;return(0,s.jsxs)(k.xz,{ref:t,className:(0,r.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...l,children:[n,(0,s.jsx)(k.JO,{asChild:!0,children:(0,s.jsx)(_.Z,{className:"h-4 w-4 opacity-50"})})]})});R.displayName=k.xz.displayName;let T=c.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(k.u_,{ref:t,className:(0,r.cn)("flex cursor-default items-center justify-center py-1",a),...n,children:(0,s.jsx)(I.Z,{className:"h-4 w-4"})})});T.displayName=k.u_.displayName;let Z=c.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(k.$G,{ref:t,className:(0,r.cn)("flex cursor-default items-center justify-center py-1",a),...n,children:(0,s.jsx)(_.Z,{className:"h-4 w-4"})})});Z.displayName=k.$G.displayName;let A=c.forwardRef((e,t)=>{let{className:a,children:n,position:l="popper",...d}=e;return(0,s.jsx)(k.h_,{children:(0,s.jsxs)(k.VY,{ref:t,className:(0,r.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:l,...d,children:[(0,s.jsx)(T,{}),(0,s.jsx)(k.l_,{className:(0,r.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,s.jsx)(Z,{})]})})});A.displayName=k.VY.displayName,c.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(k.__,{ref:t,className:(0,r.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...n})}).displayName=k.__.displayName;let Y=c.forwardRef((e,t)=>{let{className:a,children:n,...l}=e;return(0,s.jsxs)(k.ck,{ref:t,className:(0,r.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(k.wU,{children:(0,s.jsx)(i.Z,{className:"h-4 w-4"})})}),(0,s.jsx)(k.eT,{children:n})]})});Y.displayName=k.ck.displayName,c.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(k.Z0,{ref:t,className:(0,r.cn)("-mx-1 my-1 h-px bg-muted",a),...n})}).displayName=k.Z0.displayName;var E=a(8904);function O(e){let{initialMessages:t,onClose:a}=e,[r,n]=(0,c.useState)(t);return(0,s.jsxs)("div",{children:[(0,s.jsx)(V,{initialMessages:r,onChange:e=>n(e)}),(0,s.jsx)(M,{onClose:e=>{let{status:t}=e;"save"===t&&a({status:"save",content:r}),"cancel"===t&&a({status:"cancel",content:[]})}})]})}function D(e){let{initialMessages:t,datasets:a,onClose:r}=e,[n,l]=(0,c.useState)(t);return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(V,{initialMessages:n,onChange:e=>l(e)}),(0,s.jsx)(G,{datasets:a||[],onClose:e=>{let{status:t,datasetId:a}=e;"save"===t&&r({status:"save",datasetId:a,content:n}),"cancel"===t&&r({status:"cancel",datasetId:a,content:[]})}})]})}function V(e){let{initialMessages:t,onChange:a,allowEdit:r=!0}=e,[d,o]=(0,c.useState)(t.map(e=>({...e,messageId:(0,u.Z)()})));(0,c.useEffect)(()=>{a(d)},[d]);let i=e=>{let{messageId:t,newContent:a}=e;o(e=>e.map(e=>e.messageId===t?{...e,content:a}:e))},m=e=>{let{messageId:t,newRole:a}=e;o(e=>e.map(e=>e.messageId===t?{...e,role:a}:e))},p=e=>{let{afterMessageId:t}=e;o(e=>{let a={role:"assistant",content:"",messageId:(0,u.Z)()};if(""===t)return[a];let s=[];for(let r of e)s.push(r),r.messageId===t&&s.push(a);return s})},x=e=>{let{messageId:t}=e;o(e=>e.filter(e=>e.messageId!==t))};return(0,s.jsx)(s.Fragment,{children:0!==d.length?d.map((e,t)=>(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,s.jsxs)(z,{value:e.role,onValueChange:t=>m({messageId:e.messageId,newRole:t}),children:[(0,s.jsx)(R,{className:"w-[180px]",children:(0,s.jsx)(C,{placeholder:"Theme"})}),(0,s.jsxs)(A,{children:[(0,s.jsx)(Y,{value:"system",children:"System"}),(0,s.jsx)(Y,{value:"user",children:"User"}),(0,s.jsx)(Y,{value:"assistant",children:"Assistant"})]})]}),(0,s.jsx)(f.z,{variant:"ghost",size:"icon",onClick:()=>x({messageId:e.messageId}),children:(0,s.jsx)(n.Z,{className:"size-4"})})]}),(0,s.jsx)("div",{children:(0,s.jsx)(E.g,{rows:3,value:e.content,onChange:t=>i({messageId:e.messageId,newContent:t.target.value})})}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,s.jsx)("span",{className:"w-full border-t"})}),(0,s.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,s.jsxs)(f.z,{variant:"ghost",className:"bg-background",onClick:()=>{p({afterMessageId:e.messageId})},children:[(0,s.jsx)(l.Z,{className:"mr-2 size-5"}),"Add message"]})})]})]},e.messageId)):(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,s.jsx)("span",{className:"w-full border-t"})}),(0,s.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,s.jsxs)(f.z,{variant:"ghost",className:"bg-background",onClick:()=>{p({afterMessageId:""})},children:[(0,s.jsx)(l.Z,{className:"mr-2 size-5"}),"Add message"]})})]})})}function M(e){let{onClose:t}=e,[a,r]=(0,c.useState)(!1);return(0,s.jsxs)("div",{className:"mt-4 flex justify-center gap-2",children:[(0,s.jsx)(f.z,{variant:"secondary",onClick:()=>t({status:"cancel"}),children:"Cancel"}),a?(0,s.jsxs)(f.z,{disabled:!0,children:[(0,s.jsx)(d.Z,{className:"size-5 mr-2 animate-spin"}),"Save"]}):(0,s.jsx)(f.z,{onClick:()=>{t({status:"save"}),r(!0)},children:"Save"})]})}function G(e){let{datasets:t,onClose:a}=e,[r,n]=(0,c.useState)(null),[l,o]=(0,c.useState)(!1);return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(y._,{className:"mr-2",children:"Save to dataset:"}),(0,s.jsx)(L,{datasets:t,onChange:e=>{let{datasetId:t}=e;n(t)}})]}),(0,s.jsxs)("div",{className:"mt-4 flex justify-center gap-2",children:[(0,s.jsx)(f.z,{variant:"secondary",onClick:()=>a({status:"cancel",datasetId:""}),children:"Cancel"}),l?(0,s.jsxs)(f.z,{disabled:!0,children:[(0,s.jsx)(d.Z,{className:"size-5 mr-2 animate-spin"}),"Save"]}):(0,s.jsx)(f.z,{onClick:()=>{a({status:"save",datasetId:r}),o(!0)},children:"Save"})]})]})}function L(e){var t;let{datasets:a,onChange:n}=e,[l,d]=(0,c.useState)(!1),[u,m]=(0,c.useState)(null),p=a.map(e=>({value:e.dataset_id,label:e.dataset_name}));return(0,s.jsxs)(b,{open:l,onOpenChange:d,children:[(0,s.jsx)(w,{asChild:!0,children:(0,s.jsxs)(f.z,{variant:"outline",role:"combobox","aria-expanded":l,className:"w-[200px] justify-between",children:[u?null===(t=p.find(e=>e.value===u))||void 0===t?void 0:t.label:"Select dataset...",(0,s.jsx)(o.Z,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,s.jsx)(S,{className:"w-[200px] p-0 overflow-y-auto",style:{maxHeight:"var(--radix-popover-content-available-height)"},children:(0,s.jsxs)(x,{filter:(e,t)=>{var a;return(null===(a=p.find(t=>t.value===e))||void 0===a?void 0:a.label).toLowerCase().includes(t.toLowerCase())?1:0},children:[(0,s.jsx)(h,{placeholder:"Search dataset..."}),(0,s.jsx)(g,{children:"No dataset found."}),(0,s.jsx)(v,{children:p.map(e=>(console.log(e.label.split(/[\s-_]+/)),(0,s.jsxs)(j,{value:e.value,onSelect:()=>{m(e.value),d(!1),n({datasetId:e.value})},children:[(0,s.jsx)(i.Z,{className:(0,r.cn)("mr-2 h-4 w-4",u===e.value?"opacity-100":"opacity-0")}),e.label]},e.value)))})]})})]})}},5037:function(e,t,a){a.d(t,{z:function(){return i}});var s=a(7514),r=a(8803),n=a(8155),l=a(4894),d=a(5893);let o=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),i=r.forwardRef((e,t)=>{let{className:a,variant:r,size:l,asChild:i=!1,...c}=e,u=i?n.g7:"button";return(0,s.jsx)(u,{className:(0,d.cn)(o({variant:r,size:l,className:a})),ref:t,...c})});i.displayName="Button"},541:function(e,t,a){a.d(t,{Vq:function(){return o},cN:function(){return p},cZ:function(){return f},fK:function(){return m},hg:function(){return i}});var s=a(7514),r=a(8803),n=a(3507),l=a(7668),d=a(5893);let o=n.fC,i=n.xz,c=n.h_;n.x8;let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.aV,{ref:t,className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});u.displayName=n.aV.displayName;let f=r.forwardRef((e,t)=>{let{className:a,children:r,...o}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(u,{}),(0,s.jsxs)(n.VY,{ref:t,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...o,children:[r,(0,s.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(l.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});f.displayName=n.VY.displayName;let m=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};m.displayName="DialogHeader";let p=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};p.displayName="DialogFooter",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.Dx,{ref:t,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})}).displayName=n.Dx.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.dk,{ref:t,className:(0,d.cn)("text-sm text-muted-foreground",a),...r})}).displayName=n.dk.displayName},7854:function(e,t,a){a.d(t,{_:function(){return i}});var s=a(7514),r=a(8803),n=a(3180),l=a(4894),d=a(5893);let o=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.f,{ref:t,className:(0,d.cn)(o(),a),...r})});i.displayName=n.f.displayName},8904:function(e,t,a){a.d(t,{g:function(){return l}});var s=a(7514),r=a(8803),n=a(5893);let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...r})});l.displayName="Textarea"},2471:function(e,t,a){a.d(t,{pm:function(){return f}});var s=a(8803);let r=0,n=new Map,l=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},d=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?l(a):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],i={toasts:[]};function c(e){i=d(i,e),o.forEach(e=>{e(i)})}function u(e){let{...t}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function f(){let[e,t]=s.useState(i);return s.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},5893:function(e,t,a){a.d(t,{cn:function(){return n}});var s=a(5310),r=a(6895);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,s.W)(t))}}}]);