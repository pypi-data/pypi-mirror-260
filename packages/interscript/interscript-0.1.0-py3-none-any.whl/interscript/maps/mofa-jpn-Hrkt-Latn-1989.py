import interscript
import regex as re
interscript.stdlib.define_map("mofa-jpn-Hrkt-Latn-1989")
def _stage_main(s):
    s = re.compile("[んン](?=[ばびぶべぼまみむめもぱぴぷぺぽバビブベボマミムメモパピプペポ])", re.MULTILINE).sub("M", s)
    s = re.compile("([おこそとのほもよろをごぞどぼぽょぉオコソトノホモヨロヲゴゾドボポョォ])[おオ](?!(?:"+interscript.stdlib.aliases["space"]+"|"+interscript.stdlib.aliases["line_end"]+"))", re.MULTILINE).sub("\\1", s)
    s = re.compile("([うくすつぬふむゆるぐずづぶぷゅぅウクスツヌフムユルグズヅブプュゥ])[うウ]", re.MULTILINE).sub("\\1", s)
    s = interscript.stdlib.parallel_replace_tree(s, _PTREE_3318861181122420666)
    s = re.compile("[っッ]([BbDdFfGgHhJjKkLlMmNnPpQqRrSsTtVvWwXxYyZz])", re.MULTILINE).sub("\\1"+"\\1", s)
    s = re.compile("[っッ]([Cc])", re.MULTILINE).sub("T"+"\\1", s)
    s = re.compile("[っッ]", re.MULTILINE).sub("", s)
    return s

interscript.stdlib.add_map_stage("mofa-jpn-Hrkt-Latn-1989", "main", _stage_main)
_PTREE_3318861181122420666 = {12540:{None:""},12354:{None:"A"},12356:{None:"I"},12358:{None:"U",12355:{None:"UI"},12359:{None:"UE"},12361:{None:"UO"}},12360:{None:"E"},12362:{None:"O",12358:{None:"O"}},12363:{None:"KA"},12365:{None:"KI",12419:{None:"KYA"},12421:{None:"KYU"},12423:{None:"KYO",12358:{None:"KYO"}}},12367:{None:"KU"},12369:{None:"KE"},12371:{None:"KO",12358:{None:"KO"}},12373:{None:"SA"},12375:{None:"SHI",12419:{None:"SHA"},12421:{None:"SHU"},12423:{None:"SHO",12358:{None:"SHO"}},12359:{None:"SHIE"}},12377:{None:"SU"},12379:{None:"SE"},12381:{None:"SO",12358:{None:"SO"}},12383:{None:"TA"},12385:{None:"CHI",12419:{None:"CHA"},12421:{None:"CHU"},12423:{None:"CHO",12358:{None:"CHO"}},12359:{None:"CHIE"}},12388:{None:"TSU"},12390:{None:"TE",12355:{None:"TEI"}},12392:{None:"TO",12358:{None:"TO"}},12394:{None:"NA"},12395:{None:"NI",12419:{None:"NYA"},12421:{None:"NYU"},12423:{None:"NYO",12358:{None:"NYO"}},12355:{None:"NII"},12359:{None:"NIE"}},12396:{None:"NU"},12397:{None:"NE"},12398:{None:"NO",12358:{None:"NO"}},12399:{None:"HA"},12402:{None:"HI",12419:{None:"HYA"},12421:{None:"HYU"},12423:{None:"HYO",12358:{None:"HYO"}}},12405:{None:"FU",12353:{None:"FUA"},12355:{None:"FUI"},12359:{None:"FUE"},12361:{None:"FUO"}},12408:{None:"HE"},12411:{None:"HO",12358:{None:"HO"}},12414:{None:"MA"},12415:{None:"MI",12419:{None:"MYA"},12421:{None:"MYU"},12423:{None:"MYO",12358:{None:"MYO"}}},12416:{None:"MU"},12417:{None:"ME"},12418:{None:"MO",12358:{None:"MO"}},12420:{None:"YA"},12422:{None:"YU"},12424:{None:"YO",12358:{None:"YO"}},12425:{None:"RA"},12426:{None:"RI",12419:{None:"RYA"},12421:{None:"RYU"},12423:{None:"RYO",12358:{None:"RYO"}}},12427:{None:"RU"},12428:{None:"RE"},12429:{None:"RO",12358:{None:"RO"}},12431:{None:"WA"},12432:{None:"I"},12433:{None:"E"},12434:{None:"O"},12364:{None:"GA"},12366:{None:"GI",12419:{None:"GYA"},12421:{None:"GYU"},12423:{None:"GYO",12358:{None:"GYO"}}},12368:{None:"GU"},12370:{None:"GE"},12372:{None:"GO",12358:{None:"GO"}},12374:{None:"ZA"},12376:{None:"JI",12419:{None:"JA"},12421:{None:"JU"},12423:{None:"JO",12358:{None:"JO"}},12359:{None:"JIE"}},12378:{None:"ZU"},12380:{None:"ZE"},12382:{None:"ZO",12358:{None:"ZO"}},12384:{None:"DA"},12386:{None:"JI",12419:{None:"JA"},12421:{None:"JU"},12423:{None:"JO"}},12389:{None:"ZU"},12391:{None:"DE",12355:{None:"DEI"},12421:{None:"DEYU"}},12393:{None:"DO",12358:{None:"DO"}},12400:{None:"BA"},12403:{None:"BI",12419:{None:"BYA"},12421:{None:"BYU"},12423:{None:"BYO",12358:{None:"BYO"}}},12406:{None:"BU"},12409:{None:"BE"},12412:{None:"BO",12358:{None:"BO"}},12401:{None:"PA"},12404:{None:"PI",12419:{None:"PYA"},12421:{None:"PYU"},12423:{None:"PYO",12358:{None:"PYO"}}},12407:{None:"PU"},12410:{None:"PE"},12413:{None:"PO",12358:{None:"PO"}},12435:{None:"N"},12450:{None:"A"},12452:{None:"I"},12454:{None:"U",12451:{None:"UI"},12455:{None:"UE"},12457:{None:"UO"}},12456:{None:"E"},12458:{None:"O",12454:{None:"O"}},12459:{None:"KA"},12461:{None:"KI",12515:{None:"KYA"},12517:{None:"KYU"},12519:{None:"KYO",12454:{None:"KYO"}}},12463:{None:"KU"},12465:{None:"KE"},12467:{None:"KO",12454:{None:"KO"}},12469:{None:"SA"},12471:{None:"SHI",12515:{None:"SHA"},12517:{None:"SHU"},12519:{None:"SHO",12454:{None:"SHO"}},12455:{None:"SHIE"}},12473:{None:"SU"},12475:{None:"SE"},12477:{None:"SO",12454:{None:"SO"}},12479:{None:"TA"},12481:{None:"CHI",12515:{None:"CHA"},12517:{None:"CHU"},12519:{None:"CHO",12454:{None:"CHO"}},12455:{None:"CHIE"}},12484:{None:"TSU"},12486:{None:"TE",12451:{None:"TEI"}},12488:{None:"TO",12454:{None:"TO"}},12490:{None:"NA"},12491:{None:"NI",12515:{None:"NYA"},12517:{None:"NYU"},12519:{None:"NYO",12454:{None:"NYO"}},12451:{None:"NII"},12455:{None:"NIE"}},12492:{None:"NU"},12493:{None:"NE"},12494:{None:"NO",12454:{None:"NO"}},12495:{None:"HA"},12498:{None:"HI",12515:{None:"HYA"},12517:{None:"HYU"},12519:{None:"HYO",12454:{None:"HYO"}}},12501:{None:"FU",12449:{None:"FUA"},12451:{None:"FUI"},12455:{None:"FUE"},12457:{None:"FUO"}},12504:{None:"HE"},12507:{None:"HO",12454:{None:"HO"}},12510:{None:"MA"},12511:{None:"MI",12515:{None:"MYA"},12517:{None:"MYU"},12519:{None:"MYO",12454:{None:"MYO"}}},12512:{None:"MU"},12513:{None:"ME"},12514:{None:"MO",12454:{None:"MO"}},12516:{None:"YA"},12518:{None:"YU"},12520:{None:"YO",12454:{None:"YO"}},12521:{None:"RA"},12522:{None:"RI",12515:{None:"RYA"},12517:{None:"RYU"},12519:{None:"RYO",12454:{None:"RYO"}}},12523:{None:"RU"},12524:{None:"RE"},12525:{None:"RO",12454:{None:"RO"}},12527:{None:"WA"},12528:{None:"I"},12529:{None:"E"},12530:{None:"O"},12460:{None:"GA"},12462:{None:"GI",12515:{None:"GYA"},12517:{None:"GYU"},12519:{None:"GYO",12454:{None:"GYO"}}},12464:{None:"GU"},12466:{None:"GE"},12468:{None:"GO",12454:{None:"GO"}},12470:{None:"ZA"},12472:{None:"JI",12515:{None:"JA"},12517:{None:"JU"},12519:{None:"JO",12454:{None:"JO"}},12455:{None:"JIE"}},12474:{None:"ZU"},12476:{None:"ZE"},12478:{None:"ZO",12454:{None:"ZO"}},12480:{None:"DA"},12482:{None:"JI",12515:{None:"JA"},12517:{None:"JU"},12519:{None:"JO"}},12485:{None:"ZU"},12487:{None:"DE",12451:{None:"DEI"},12517:{None:"DEYU"}},12489:{None:"DO",12454:{None:"DO"}},12496:{None:"BA"},12499:{None:"BI",12515:{None:"BYA"},12517:{None:"BYU"},12519:{None:"BYO",12454:{None:"BYO"}}},12502:{None:"BU"},12505:{None:"BE"},12508:{None:"BO",12454:{None:"BO"}},12497:{None:"PA"},12500:{None:"PI",12515:{None:"PYA"},12517:{None:"PYU"},12519:{None:"PYO",12454:{None:"PYO"}}},12503:{None:"PU"},12506:{None:"PE"},12509:{None:"PO",12454:{None:"PO"}},12531:{None:"N"},12436:{12353:{None:"BA"},12355:{None:"BI"},None:"BU",12359:{None:"BE"},12361:{None:"BO"}},12532:{12449:{None:"BA"},12451:{None:"BI"},None:"BU",12455:{None:"BE"},12457:{None:"BO"}}}
