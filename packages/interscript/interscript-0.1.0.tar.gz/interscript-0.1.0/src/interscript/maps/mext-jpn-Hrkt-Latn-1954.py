import interscript
import regex as re
interscript.stdlib.define_map("mext-jpn-Hrkt-Latn-1954")
def _stage_main(s):
    s = re.compile("([んン])(?=[あいうえおやゆよアイウエオヤユヨ])", re.MULTILINE).sub("\\1"+"'", s)
    s = interscript.stdlib.parallel_replace_tree(s, _PTREE_3660920128534950867)
    s = re.compile("[っッ]([BbCcDdFfGgHhJjKkLlMmNnPpQqRrSsTtVvWwXxYyZz])", re.MULTILINE).sub("\\1"+"\\1", s)
    s = re.compile("[っッ]", re.MULTILINE).sub("", s)
    s = re.compile("a[ーa]", re.MULTILINE).sub("â", s)
    s = re.compile("i[ーi]", re.MULTILINE).sub("î", s)
    s = re.compile("u[ーu]", re.MULTILINE).sub("û", s)
    s = re.compile("e[ーe]", re.MULTILINE).sub("ê", s)
    s = re.compile("o[ーo]", re.MULTILINE).sub("ô", s)
    return s

interscript.stdlib.add_map_stage("mext-jpn-Hrkt-Latn-1954", "main", _stage_main)
_PTREE_3660920128534950867 = {12354:{None:"a"},12356:{None:"i"},12358:{None:"u"},12360:{None:"e"},12362:{None:"o",12358:{None:"ô"}},12363:{None:"ka"},12365:{None:"ki",12419:{None:"kya"},12421:{None:"kyu"},12423:{None:"kyo",12358:{None:"kyô"}}},12367:{None:"ku"},12369:{None:"ke"},12371:{None:"ko",12358:{None:"kô"}},12373:{None:"sa"},12375:{None:"si",12419:{None:"sya"},12421:{None:"syu"},12423:{None:"syo",12358:{None:"syô"}}},12377:{None:"su"},12379:{None:"se"},12381:{None:"so",12358:{None:"sô"}},12383:{None:"ta"},12385:{None:"ti",12419:{None:"tya"},12421:{None:"tyu"},12423:{None:"tyo",12358:{None:"tyô"}}},12388:{None:"tu"},12390:{None:"te"},12392:{None:"to",12358:{None:"tô"}},12394:{None:"na"},12395:{None:"ni",12419:{None:"nya"},12421:{None:"nyu"},12423:{None:"nyo",12358:{None:"nyô"}}},12396:{None:"nu"},12397:{None:"ne"},12398:{None:"no",12358:{None:"nô"}},12399:{None:"ha"},12402:{None:"hi",12419:{None:"hya"},12421:{None:"hyu"},12423:{None:"hyo",12358:{None:"hyô"}}},12405:{None:"hu"},12408:{None:"he"},12411:{None:"ho",12358:{None:"hô"}},12414:{None:"ma"},12415:{None:"mi",12419:{None:"mya"},12421:{None:"myu"},12423:{None:"myo",12358:{None:"myô"}}},12416:{None:"mu"},12417:{None:"me"},12418:{None:"mo",12358:{None:"mô"}},12420:{None:"ya"},12422:{None:"yu"},12424:{None:"yo",12358:{None:"yô"}},12425:{None:"ra"},12426:{None:"ri",12419:{None:"rya"},12421:{None:"ryu"},12423:{None:"ryo",12358:{None:"ryô"}}},12427:{None:"ru"},12428:{None:"re"},12429:{None:"ro",12358:{None:"rô"}},12431:{None:"wa"},12434:{None:"o"},12364:{None:"ga"},12366:{None:"gi",12419:{None:"gya"},12421:{None:"gyu",12358:{None:"gyû"}},12423:{None:"gyo",12358:{None:"gyô"}}},12368:{None:"gu"},12370:{None:"ge"},12372:{None:"go",12358:{None:"gô"}},12374:{None:"za"},12376:{None:"zi",12419:{None:"zya"},12421:{None:"zyu"},12423:{None:"zyo",12358:{None:"zyô"}}},12378:{None:"zu"},12380:{None:"ze"},12382:{None:"zo",12358:{None:"zô"}},12384:{None:"da"},12386:{None:"zi",12419:{None:"zya"},12421:{None:"zyu"},12423:{None:"zyo",12358:{None:"zyô"}}},12389:{None:"zu"},12391:{None:"de"},12393:{None:"do",12358:{None:"dô"}},12400:{None:"ba"},12403:{None:"bi",12419:{None:"bya"},12421:{None:"byu"},12423:{None:"byo",12358:{None:"byô"}}},12406:{None:"bu"},12409:{None:"be"},12412:{None:"bo",12358:{None:"bô"}},12401:{None:"pa"},12404:{None:"pi",12419:{None:"pya"},12421:{None:"pyu"},12423:{None:"pyo",12358:{None:"pyô"}}},12407:{None:"pu"},12410:{None:"pe"},12413:{None:"po",12358:{None:"pô"}},12435:{None:"n"},12450:{None:"a"},12452:{None:"i"},12454:{None:"u"},12456:{None:"e"},12458:{None:"o",12454:{None:"ô"}},12459:{None:"ka"},12461:{None:"ki",12515:{None:"kya"},12517:{None:"kyu"},12519:{None:"kyo",12454:{None:"kyô"}}},12463:{None:"ku"},12465:{None:"ke"},12467:{None:"ko",12454:{None:"kô"}},12469:{None:"sa"},12471:{None:"si",12515:{None:"sya"},12517:{None:"syu"},12519:{None:"syo",12454:{None:"syô"}}},12473:{None:"su"},12475:{None:"se"},12477:{None:"so",12454:{None:"sô"}},12479:{None:"ta"},12481:{None:"ti",12515:{None:"tya"},12517:{None:"tyu"},12519:{None:"tyo",12454:{None:"tyô"}}},12484:{None:"tu"},12486:{None:"te"},12488:{None:"to",12454:{None:"tô"}},12490:{None:"na"},12491:{None:"ni",12515:{None:"nya"},12517:{None:"nyu"},12519:{None:"nyo",12454:{None:"nyô"}}},12492:{None:"nu"},12493:{None:"ne"},12494:{None:"no",12454:{None:"nô"}},12495:{None:"ha"},12498:{None:"hi",12515:{None:"hya"},12517:{None:"hyu"},12519:{None:"hyo",12454:{None:"hyô"}}},12501:{None:"hu"},12504:{None:"he"},12507:{None:"ho",12454:{None:"hô"}},12510:{None:"ma"},12511:{None:"mi",12515:{None:"mya"},12517:{None:"myu"},12519:{None:"myo",12454:{None:"myô"}}},12512:{None:"mu"},12513:{None:"me"},12514:{None:"mo",12454:{None:"mô"}},12516:{None:"ya"},12518:{None:"yu"},12520:{None:"yo",12454:{None:"yô"}},12521:{None:"ra"},12522:{None:"ri",12515:{None:"rya"},12517:{None:"ryu"},12519:{None:"ryo",12454:{None:"ryô"}}},12523:{None:"ru"},12524:{None:"re"},12525:{None:"ro",12454:{None:"rô"}},12527:{None:"wa"},12530:{None:"o"},12460:{None:"ga"},12462:{None:"gi",12515:{None:"gya"},12517:{None:"gyu"},12519:{None:"gyo",12454:{None:"gyô"}}},12464:{None:"gu"},12466:{None:"ge"},12468:{None:"go",12454:{None:"gô"}},12470:{None:"za"},12472:{None:"zi",12515:{None:"zya"},12517:{None:"zyu"},12519:{None:"zyo",12454:{None:"zyô"}}},12474:{None:"zu"},12476:{None:"ze"},12478:{None:"zo",12454:{None:"zô"}},12480:{None:"da"},12482:{None:"zi",12515:{None:"zya"},12517:{None:"zyu"},12519:{None:"zyo",12454:{None:"zyô"}}},12485:{None:"zu"},12487:{None:"de"},12489:{None:"do",12454:{None:"dô"}},12496:{None:"ba"},12499:{None:"bi",12515:{None:"bya"},12517:{None:"byu"},12519:{None:"byo",12454:{None:"byô"}}},12502:{None:"bu"},12505:{None:"be"},12508:{None:"bo",12454:{None:"bô"}},12497:{None:"pa"},12500:{None:"pi",12515:{None:"pya"},12517:{None:"pyu"},12519:{None:"pyo",12454:{None:"pyô"}}},12503:{None:"pu"},12506:{None:"pe"},12509:{None:"po",12454:{None:"pô"}},12531:{None:"n"}}
