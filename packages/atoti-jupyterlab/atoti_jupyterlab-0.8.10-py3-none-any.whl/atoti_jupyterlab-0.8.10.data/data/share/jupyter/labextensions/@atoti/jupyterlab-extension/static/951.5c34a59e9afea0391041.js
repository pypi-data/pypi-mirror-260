"use strict";(self.webpackChunk_atoti_jupyterlab_extension=self.webpackChunk_atoti_jupyterlab_extension||[]).push([[951],{30951:(o,e,t)=>{t.r(e),t.d(e,{default:()=>f});var a=t(93388),i=t(81292),l=t(9617),r=t(66029),n=t(93481),s=t(54935),d=t(1347),p=t(19078),c=t(50083),u=t(85578),m=t(43824),C=t(71438);const y=o=>{const{onClick:e,isSelected:t,style:i,selectionMarkStyle:l,color:r,...n}=o,d=(0,s.Fg)();if(!r)return(0,a.tZ)("div",{style:{...e?{cursor:"pointer"}:{},...i},children:(0,a.tZ)(u.IconEmptySwatch,{style:{width:"100%",height:"100%"}})});const p=(o=>(0,m.l)(...(0,C.h)(o))[2]>80)(r),y=l??{color:p?d.selectionMarkDarkColor:d.selectionMarkLightColor},h=l&&"#ffffff"===r.toLowerCase()||!l&&p?{border:`1px solid ${d.grayScale[4]}`}:{};return(0,a.tZ)("div",{"data-testid":r,style:{backgroundColor:r,display:"flex",justifyContent:"center",alignItems:"center",...e?{cursor:"pointer"}:{},...h,...i},onClick:e,...n,children:t&&(0,a.tZ)(c.CheckOutlined,{style:y})},r)},h=o=>(0,a.tZ)("div",{style:{width:"100%",display:"grid",gridTemplateRows:`repeat(${o.numberOfRows}, 29px)`,gridTemplateColumns:`repeat(${o.numberOfColumns}, 31px)`,columnGap:6},children:o.colors.map((e=>(0,a.tZ)(y,{color:o.colorOpacity?(0,d.U)(e,o.colorOpacity):e,selectionMarkStyle:o.selectionMarkStyle,onClick:()=>o.onSelectedColorChanged(e),isSelected:o.selectedColor?.toLowerCase()===e.toLowerCase()},e)))});var g=t(77026);function v(o,e){switch(e.type){case"comparisonValueChanged":return{...o,[e.isOptional?"optionalComparisonValue":"mandatoryComparisonValue"]:e.value};case"comparisonOperatorChanged":{const{isOptional:t,operator:a}=e;if(t)return{...o,optionalComparisonOperator:a};const{optionalComparisonOperator:i,optionalComparisonValue:l}=["eq","neq"].includes(a)?{optionalComparisonOperator:void 0,optionalComparisonValue:void 0}:o;return a.startsWith("lt")&&i?.startsWith("lt")?{...o,mandatoryComparisonOperator:a,optionalComparisonOperator:"gt",optionalComparisonValue:void 0}:a.startsWith("gt")&&i?.startsWith("gt")?{...o,mandatoryComparisonOperator:a,optionalComparisonOperator:"lt",optionalComparisonValue:void 0}:{...o,mandatoryComparisonOperator:a,optionalComparisonOperator:i,optionalComparisonValue:l}}case"optionalComparisonValueReset":return{...o,optionalComparisonValue:void 0};case"colorSelected":return{...o,selectedColor:e.color}}}const{Option:b}=l.Select,O=["#8C8C8C","#FF7875","#FFC069","#FFF566","#95DE64","#69C0FF","#5CDBD3","#B37FEB","#FF85C0","#595959","#FF4D4F","#FFA940","#FFEC3D","#73D13D","#40A9FF","#36CFC9","#9254DE","#F759AB","#262626","#F5222D","#FA8C16","#FADB14","#52C41A","#1890FF","#13C2C2","#722ED1","#EB2F96"],f=o=>{const{formatMessage:e}=(0,n.useIntl)(),t=(0,s.Fg)(),{conditionalStyle:c,colorType:u}=o,{style:m,...C}=c||{style:{}},y=void 0!==c&&0===Object.keys(C).length,[f,S]=(0,r.useReducer)(v,{},(()=>function(o){const{style:e,...t}=o||{style:{}},a={mandatoryComparisonOperator:"eq",selectedColor:e?.backgroundColor},i=(0,g.sortBy)(Object.entries(t),(([o,e])=>e));return i.length>0&&(a.mandatoryComparisonOperator=i[0][0],a.mandatoryComparisonValue=i[0][1]),2===i.length&&(a.optionalComparisonOperator=i[1][0],a.optionalComparisonValue=i[1][1]),a}(o.conditionalStyle))),{selectedColor:F,mandatoryComparisonValue:B,optionalComparisonValue:k,mandatoryComparisonOperator:x,optionalComparisonOperator:V}=f,Z="eq"===x||"neq"===x,[w,D,X]=function({mandatoryComparisonValue:o,optionalComparisonOperator:e,optionalComparisonValue:t,selectedColor:a},i){return void 0===a?[!1,"invalidConditionalStyle","color"]:i?[!0]:void 0===o||void 0===t&&void 0!==e?[!1,"invalidConditionalStyle","value"]:void 0!==t&&void 0===e?[!1,"invalidConditionalStyle","operator"]:void 0!==t&&void 0!==e?e.startsWith("lt")?t>o?[!0]:[!1,"invalidComparison"]:t<o?[!0]:[!1,"invalidComparison"]:[!0]}(f,y);return(0,a.BX)("div",{style:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},children:[(0,a.BX)("div",{style:{marginTop:3,flexGrow:1},children:[y?null:(0,a.BX)("div",{children:[(0,a.tZ)("div",{style:{marginBottom:4},children:e({id:"aui.conditionalStyle.ifValue"})}),(0,a.BX)("div",{style:{display:"flex",marginBottom:4},children:[(0,a.tZ)(l.Select,{"aria-label":"Mandatory operator selection",style:{width:"70%",marginRight:5},value:x,onChange:o=>{S({type:"comparisonOperatorChanged",operator:o})},children:["eq","neq","lt","lte","gt","gte"].map((o=>(0,a.tZ)(b,{value:o,children:e({id:`aui.conditionalStyle.operator.${o}`})},o)))}),(0,a.tZ)(l.InputNumber,{"aria-label":"Mandatory comparison value input",style:{width:"30%"},value:B,type:"number",onChange:o=>"number"==typeof o&&S({type:"comparisonValueChanged",value:o})})]})]}),y?null:(0,a.BX)("div",{children:[(0,a.BX)("div",{style:{marginBottom:4},children:[e({id:"aui.and"}),"Â ",(0,a.BX)(p.Text,{small:!0,style:{color:t.grayScale[6]},children:["(",e({id:"aui.conditionalStyle.optional"}),")"]})]}),(0,a.BX)("div",{style:{display:"flex",marginBottom:4},children:[(0,a.tZ)(l.Select,{disabled:Z,style:{width:"70%",marginRight:5},value:V,onChange:o=>S({type:"comparisonOperatorChanged",operator:o,isOptional:!0}),"aria-label":"Optional operator selection",allowClear:!0,children:("lt"===x||"lte"===x?["gt","gte"]:["lt","lte"]).map((o=>(0,a.tZ)(b,{value:o,children:e({id:`aui.conditionalStyle.operator.${o}`})},o)))}),(0,a.tZ)(l.InputNumber,{"aria-label":"Optional comparison value input",style:{width:"30%"},type:"number",disabled:Z,value:k,onChange:o=>{void 0===o||""==`${o}`?S({type:"optionalComparisonValueReset"}):"number"==typeof o&&S({type:"comparisonValueChanged",value:o,isOptional:!0})}})]})]}),(0,a.BX)("div",{children:[(0,a.tZ)("div",{style:{marginBottom:4,marginTop:8},children:e({id:"aui.conditionalStyle.styleAs"})}),(0,a.tZ)("div",{style:{height:26,lineHeight:"26px",border:`1px solid ${t.grayScale[4]}`,backgroundColor:F&&"background"===u?(0,d.U)(F,o.colorOpacity??1):void 0,paddingLeft:5,marginBottom:4,color:u?F:t.textColor},children:"123"})]}),(0,a.BX)("div",{style:{marginBottom:5,marginTop:5},children:[(0,a.tZ)("div",{style:{marginBottom:2},children:e({id:"aui.conditionalStyle."+("text"===u?"textColors":"backgroundColors")})}),(0,a.tZ)(h,{colorOpacity:o.colorOpacity,selectedColor:F,onSelectedColorChanged:o=>S({type:"colorSelected",color:o}),colors:O,selectionMarkStyle:{color:t.selectionMarkDarkColor},numberOfColumns:9,numberOfRows:3})]})]}),(0,a.BX)("div",{style:{height:35,display:"flex",justifyContent:"flex-end",alignItems:"center"},children:[(0,a.tZ)(l.Button,{css:i.css`
            &.ant-btn {
              margin-right: 8px;
            }
          `,onClick:()=>o.onCancel(),children:e({id:"aui.cancel"})}),(0,a.tZ)(p.Tooltip,{trigger:w?[]:["hover"],placement:"right",title:D?e({id:`aui.conditionalStyle.${D}`},{type:X}):"",children:(0,a.tZ)(l.Button,{disabled:!w,"aria-label":"Submit",type:"primary",onClick:()=>{y?o.onSubmitDefaultStyle({backgroundColor:F}):o.onSubmit({[x]:B,...V&&k?{[V]:k}:{},style:{backgroundColor:F}})},children:e({id:"aui.conditionalStyle.apply"})})})]})]})}}}]);