"use strict";(self.webpackChunk_atoti_jupyterlab_extension=self.webpackChunk_atoti_jupyterlab_extension||[]).push([[5972],{95972:(t,a,e)=>{e.r(a),e.d(a,{default:()=>b});var n=e(17967),o=e(49251),s=e.n(o),i=e(73411),l=e.n(i),r=e(66029),u=e(93481),c=e(14378),d=e(45552),h=e(44841),m=e(77026),p=e(55561),f=e(75059),g=e(6792);s().register(l());const b=(0,h.withLoadingOverlay)((0,h.withoutIrrelevantRenders)((0,c.H)((0,r.memo)((t=>{const{cube:a,data:e,metaData:o,widgetState:s}=t,{formatMessage:i}=(0,u.useIntl)(),l=i({id:"aui.total"}),c=function({horizontalSubplots:t,verticalSubplots:a}){const e=[];if(a.captions.length>0){const t=(0,m.maxBy)(a.captions.slice(0,a.limit),(t=>t.length));e.push(t)}const n=t.captions.slice(0,t.limit);return n.length>0&&e.push(n[0]),e.join(", ")}({verticalSubplots:o.subplots.vertical,horizontalSubplots:o.subplots.horizontal}),h=(0,r.useMemo)((()=>function(t){const a=document.createElement("canvas").getContext("2d");return null===a?20*t.length:(a.font='20px "Open Sans", verdana, arial, sans-serif',a.measureText(t).width)}(c)),[c]);let b=0!==t.size.width?h/(t.size.width-60):0;const S=o.subplots.horizontal.keys.length>0?o.subplots.horizontal.keys.length:1;b+=.01/Math.min(S,o.subplots.horizontal.limit);const w=(0,r.useMemo)((()=>function({cube:t,data:a,metaData:e,widgetState:n,captionForTotals:o},{domainStartOffset:s}){if(!t||!a||!e)return[];const i=(0,g.c)({cube:t,data:a,metaData:e,widgetState:n,captionForTotals:o});return i.forEach((t=>{t&&t.gauge&&(t.gauge.shape="bullet")})),1===i.length&&(i[0].domain={...i[0].domain,x:[s]}),i}({cube:a,data:e,metaData:o,widgetState:s,captionForTotals:l},{domainStartOffset:b})),[a,e,o,s,l,b]),v=(0,r.useMemo)((()=>((t,{domainStartOffset:a})=>(0,f.I)({grid:{domain:{x:[a]}}},(0,p.d)(t)))(o,{domainStartOffset:b})),[o,b]);return(0,n.tZ)(d.XN,{...t,traces:w,layout:v,cube:a,data:e,metaData:o})})))))}}]);