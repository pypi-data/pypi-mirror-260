"use strict";(self.webpackChunk_atoti_jupyterlab_extension=self.webpackChunk_atoti_jupyterlab_extension||[]).push([[669],{35765:(e,t,n)=>{n.d(t,{q:()=>s});var r=n(95852),a=n(80823);function s(e){if((0,a.B)(e)){const t=(0,r.Q)(e.mdx);return{...e,mdx:t}}return"dateRange"===e.type?{...e,startDate:new Date(e.startDate),endDate:new Date(e.endDate)}:e}},80823:(e,t,n)=>{function r(e){return"custom"===e.type}n.d(t,{B:()=>r})},35474:(e,t,n)=>{n.d(t,{c:()=>i});var r=n(27860),a=n.n(r),s=n(64682),o=n(80823);function i(e){if((0,o.B)(e)){const t=(0,s.P)(e.mdx);return{...e,mdx:t}}return"dateRange"===e.type?{...e,startDate:a()(e.startDate).format("YYYY-MM-DD"),endDate:a()(e.endDate).format("YYYY-MM-DD")}:e}},38963:(e,t,n)=>{n.d(t,{$b:()=>i,Pu:()=>m,w6:()=>u});var r=n(56953),a=n(97007),s=n(4266),o=n(29223);function i({layoutPath:e,page:t,side:n,leafKey:a}){const o=e.slice(0,e.length-1),i=(0,r.H)(t.layout,o);if((0,s.B)(i))throw new Error(`Unexpectedly encountered a leaf at path [${o.join(", ")}] while attempting to add a widget at path [${e.join(", ")}] in page layout:\n${JSON.stringify(t.layout,void 0,2)}`);const m=e.at(-1);if("center"===n){const e=i.children[m];(0,s.B)(e)&&(e.leafKey=a)}else{const r="column"===i.direction&&["top","bottom"].includes(n)||"row"===i.direction&&["left","right"].includes(n),o=["left","top"].includes(n);if(r){const e=i.children[m].size||.5;i.children[m].size=e/2,i.children.splice(o?m:m+1,0,{leafKey:a,size:e/2})}else{const n=i.children[m];if(!(0,s.B)(n))throw new Error(`Did not find a leaf at [${e.join(", ")}] while attempting to add a widget at this path. Widgets can only be added in a layout leaf. The page layout is:\n${JSON.stringify(t.layout,void 0,2)}`);const r=[{...n,size:.5}];r.splice(o?0:1,0,{leafKey:a,size:.5}),i.children[m]={children:r,direction:"row"===i.direction?"column":"row",size:i.children[m].size}}}}function m(e,t){const n=t.slice(0,t.length-1),a=(0,r.H)(e.layout,n);if((0,s.B)(a))throw new Error(`Unexpectedly encountered a leaf at path [${n.join(", ")}] while attempting to clean widget at path [${t.join(", ")}] in page layout:\n${JSON.stringify(e.layout,void 0,2)}`);const o=t.at(-1),i=a.children[o];if(!(0,s.B)(i))throw new Error(`Did not find a layout leaf at [${t.join(", ")}]. Cannot remove missing child leaf. The page layout is:\n${JSON.stringify(e.layout,void 0,2)}`);Reflect.deleteProperty(e.content,i.leafKey)}function u({dashboardState:e,initialWidgetState:t,layoutPath:n,pageKey:r,side:s}){return(0,o.T)(e,r,(e=>{"center"===s&&m(e,n);const r=`${(0,a.Q)(e.layout)+1}`;return i({layoutPath:n,page:e,side:s,leafKey:r}),e.content[r]=t,e}))}},20881:(e,t,n)=>{function r(e,t){Object.entries(e.content).forEach((([e,n])=>{t(n,e)}))}n.d(t,{J:()=>r})},56953:(e,t,n)=>{n.d(t,{H:()=>s});var r=n(4266);class a extends Error{}const s=(e,t)=>{const n=t.reduce(((e,t)=>void 0===e||(0,r.B)(e)?void 0:e.children[t]),e);if(void 0===n)throw new a(`Child layout at path [${t.join(", ")}] was not found in page layout:\n${JSON.stringify(e,void 0,2)}.`);return n}},97007:(e,t,n)=>{n.d(t,{B:()=>a,Q:()=>s});var r=n(4266);const a=(e,t)=>{(0,r.B)(e)?t(e):e.children.forEach((e=>{a(e,t)}))},s=e=>{let t=0;return a(e,(e=>{t=Math.max(t,Number(e.leafKey))})),t}},63653:(e,t,n)=>{function r(e,t){if(t)return e?.pages[t]}n.d(t,{f:()=>r})},90931:(e,t,n)=>{n.d(t,{L:()=>a});var r=n(63653);function a(e,t,n){if(!e||!t||!n)return;const a=(0,r.f)(e,t);return a?.content?.[n]}},4266:(e,t,n)=>{n.d(t,{B:()=>r});const r=e=>"leafKey"in e},61998:(e,t,n)=>{function r(e){return void 0!==e.id&&void 0!==e.version}n.d(t,{K:()=>r})},29223:(e,t,n)=>{n.d(t,{T:()=>a});var r=n(86492);function a(e,t,n){return(0,r.V)(e,["pages",t],n)}},16541:(e,t,n)=>{n.d(t,{h:()=>a});var r=n(64682);class a extends Error{constructor(e,t){super(`Mdx does not represent a filter of type "${e}": \n${(0,r.P)(t,{indent:!0})}`)}}},49903:(e,t,n)=>{n.d(t,{c:()=>j});var r=n(83195),a=n(40719),s=n(64682),o=n(22045),i=n(16541),m=n(51702),u=n(12562),c=n(51680);const l=e=>(0,r.G)(e,"member_caption")&&"Property"===e.syntax&&1===e.arguments.length&&(0,r.G)(e.arguments[0],"currentmember")&&"Property"===e.arguments[0].syntax,h=(e,t)=>(0,r.G)(e,t)&&"Infix"===e.syntax&&2===e.arguments.length,d=e=>(0,r.G)(e,"and")&&2===e.arguments.length&&h(e.arguments[0],">=")&&h(e.arguments[1],"<=")||(0,r.G)(e,"or")&&2===e.arguments.length&&h(e.arguments[0],"<")&&h(e.arguments[1],">"),g=e=>{if(!(0,r.G)(e))return!1;const[t,n]=e.arguments;return l(t)&&"Literal"===n.elementType&&"STRING"===n.type};var f=n(27860),w=n.n(f);function p(e,t){return(0,r.G)(e)&&t.some((t=>(0,r.G)(e,t)))&&(0,r.G)(e.arguments[0],"datediff")&&((0,u._)(e.arguments[1])||(0,r.G)(e.arguments[1],"-")&&(0,u._)(e.arguments[1].arguments[0]))}function y(e){let t=0;return t=(0,r.G)(e,"-")?-1*Number.parseInt(e.arguments[0].value):Number.parseInt(e.value),w()().add(t,"d").set("h",12).set("m",0).set("s",0).set("ms",0).toDate()}function N(e){if((0,r.G)(e)&&"()"===e.name){let[t,n]=[y(e.arguments[0].arguments[0].arguments[1]),y(e.arguments[0].arguments[1].arguments[1])];const[r,a]=[e.arguments[0].arguments[0].name,e.arguments[0].arguments[1].name];return">"===r&&(t=w()(t).add(1,"d").toDate()),"<"===a&&(n=w()(n).add(-1,"d").toDate()),{startDate:t,endDate:n}}const t=y(e.arguments[1]);return{startDate:t,endDate:new Date(t)}}function v(e){const t=new Date(e.arguments[0].arguments[1].arguments[1].arguments[0].value);return t.setHours(23,59,59),{startDate:new Date(e.arguments[0].arguments[0].arguments[1].arguments[0].value),endDate:"<"===e.arguments[0].arguments[1].name?w()(t).add(-1,"d").toDate():t}}function G(e){return!!(p(e,["="])||(0,r.G)(e,"()")&&(0,r.G)(e.arguments[0],"and")&&p(e.arguments[0].arguments[0],[">=",">"])&&p(e.arguments[0].arguments[1],["<=","<"]))}function b(e){if((0,r.G)(e,"()")&&(0,r.G)(e.arguments[0],"and")){const t=e.arguments[0].arguments[0],n=e.arguments[0].arguments[1];if((0,r.G)(t,">=")&&["<=","<"].some((e=>(0,r.G)(n,e)))&&[t,n].every((e=>(0,r.G)(e.arguments[0],"cdate")&&(0,r.G)(e.arguments[1],"cdate"))))return!0}return!1}function D(e){if(b(e))return{...v(e),isRollingDate:!1};if(G(e))return{...N(e),isRollingDate:!0};throw new i.h("dateRange",e)}var O=n(4333);const x=e=>{if((0,r.G)(e,"isEmpty")&&(0,O.T)(e.arguments[0]))return e.arguments[0].identifiers[1].value},T={"<":"Lower","<=":"LowerOrEqual",">":"Greater",">=":"GreaterOrEqual","=":"Equal","<>":"NotEqual"};var M=n(10132);const C=["<","<=",">",">=","=","<>"];var R=n(60109);const E=(e,t)=>{if((0,r.G)(e,"{}")&&"Braces"===e.syntax){const[n,...r]=e.arguments.map((e=>E(e,t))),{dimensionName:a,hierarchyName:o,members:[i]}=n,m=[i];return r.forEach((t=>{if(t.dimensionName!==a||t.hierarchyName!==o)throw new Error(`createFilterOnMembers was called on an MDX that represents a set of members from different hierarchies. Only members of the same hierarchy are supported within a single call. If necessary, perform multiple calls. Mdx was: ${(0,s.P)(e)}`);m.push(t.members[0])})),{dimensionName:a,hierarchyName:o,members:m,type:"members"}}if("CompoundIdentifier"===e.elementType){const{dimensionName:n,hierarchyName:r,namePath:a}=(0,R.c)(e,{cube:t,shouldThrowOnMissingHierarchy:!0});return{dimensionName:n,hierarchyName:r,members:[a],type:"members"}}throw new Error(`createFilterOnMembers was called with an MDX that does not represent a filter on members: ${(0,s.P)(e)}`)};var P=n(87919),I=n(97700);function S(e,t){if((0,r.G)(e,t)&&(0,r.G)(e.arguments[0],"datediff")&&(0,u._)(e.arguments[1])&&"SCALAR"===e.arguments[1].type){const t=e.arguments[0];if((0,u._)(t.arguments[0])&&"STRING"===t.arguments[0].type&&(0,r.G)(t.arguments[1],"cdate")&&(0,r.G)(t.arguments[2],"membervalue"))return!0}return!1}var L=n(69673),$=n(23782),B=n(1965);const _=e=>(0,r.G)(e)&&["topcount","topsum","toppercent","bottomcount","bottomsum","bottompercent"].includes(e.name.toLowerCase()),k=({mdx:e,cube:t,levelIndex:n,scope:a})=>{const s=e.name,o=e.arguments[0].arguments[0],i=parseInt(e.arguments[1].value,10),m=e.arguments[2],u=(0,r.G)(m,"abs")?m.arguments[0]:m,c=(0,M.S)(u),l=o.arguments[0].arguments[0],[{dimensionName:h,hierarchyName:d}]=(0,$.E)(l,{cube:t}),g=(0,L._)({dimensionName:h,hierarchyName:d},t);return{dimensionName:h,hierarchyName:d,levelName:(0,B.d)(g,n),limit:i,measureName:c,topBottomMode:s,scope:a,type:"topBottomMembers"}},H=e=>{const[t,n]=e.arguments;return(0,O.T)(t)&&(0,u._)(n)&&"SCALAR"===n.type},V={members:E,topBottomMembers:(e,t)=>{if(_(e)){const n=e.arguments[0].arguments[0],r="children"===n.name.toLocaleLowerCase()?"ofEachParent":"overall",a="overall"===r?parseInt(n.arguments[0].arguments[1].value,10):0;return k({mdx:e,cube:t,levelIndex:a,scope:r})}if((0,r.G)(e,"generate")&&(0,r.G)(e.arguments[0],"members")&&(0,r.G)(e.arguments[0].arguments[0])&&(0,u._)(e.arguments[0].arguments[0].arguments[1])&&_(e.arguments[1])){const n="children"===e.arguments[1].arguments[0].arguments[0].name.toLocaleLowerCase()?"ofEachParent":"overall",r=parseInt(e.arguments[0].arguments[0].arguments[1].value,10)+1;return k({mdx:e.arguments[1],cube:t,levelIndex:r,scope:n})}throw new Error(`createFilterOnTopBottomMembers was called with an MDX that does not represent a filter on top/bottom members: ${(0,s.P)(e)}`)},lowerOrGreaterValue:(e,t)=>{if(!(0,r.G)(e,"filter")||!(0,r.G)(e.arguments[0],"members"))throw new i.h("lowerOrGreaterValue",e);const n=e.arguments[0].arguments[0],s=e.arguments[1];if(!((0,a.a)(n)&&(m=s,"Function"===m.elementType&&(u=m.name,C.includes(u))&&"Infix"===m.syntax&&(0,O.T)(m.arguments[0])&&(e=>"Literal"===e.elementType&&"SCALAR"===e.type&&!1===isNaN(parseInt(e.value)))(m.arguments[1]))))throw new i.h("lowerOrGreaterValue",e);var m,u;const c=(0,o.c)(n,{cube:t,shouldThrowOnMissingHierarchy:!0});if("level"!==c.type)throw new i.h("lowerOrGreaterValue",e);const{dimensionName:l,hierarchyName:h,levelName:d}=c,g=T[s.name],f=(0,M.S)(s.arguments[0]);return{dimensionName:l,hierarchyName:h,levelName:d,lowerOrGreaterLimit:parseFloat(s.arguments[1].value),measureName:f,lowerOrGreaterMode:g,type:"lowerOrGreaterValue"}},existenceOfValue:(e,t)=>{if(!(0,r.G)(e,"filter")||!(0,r.G)(e.arguments[0],"members"))throw new i.h("existenceOfValue",e);const n=e.arguments[0].arguments[0],s=(e=>(0,r.G)(e,"not")?{doesExist:!0,measureName:x(e.arguments[0])}:{doesExist:!1,measureName:x(e)})(e.arguments[1]);if(!(0,a.a)(n)||!s.measureName)throw new i.h("existenceOfValue",e);const m=(0,o.c)(n,{cube:t,shouldThrowOnMissingHierarchy:!0});if("level"!==m.type)throw new i.h("existenceOfValue",e);const{dimensionName:u,hierarchyName:c,levelName:l}=m;return{dimensionName:u,hierarchyName:c,levelName:l,doesExist:s.doesExist,measureName:s.measureName,type:"existenceOfValue"}},valuesRange:function(e,t){if(!(0,r.G)(e,"filter"))throw new i.h("valuesRange",e);const[n,a]=e.arguments;if(!(0,r.G)(n,"members")||!d(a))throw new i.h("valuesRange",e);const[s,m]=a.arguments,u=n.arguments[0];if(!H(s)||!H(m)||"CompoundIdentifier"!==u.elementType)throw new i.h("valuesRange",e);const c=(0,o.c)(u,{cube:t,shouldThrowOnMissingHierarchy:!0});if("level"!==c.type)throw new i.h("valuesRange",e);const{dimensionName:l,hierarchyName:h,levelName:g}=c,f=s.arguments[0],w=(0,o.c)(f,{cube:t,shouldThrowOnMissingHierarchy:!0});if("measure"!==w.type)throw new i.h("valuesRange",e);return{type:"valuesRange",dimensionName:l,hierarchyName:h,levelName:g,isBetween:"and"===a.name.toLowerCase(),lowerLimit:parseInt(s.arguments[1].value,10),upperLimit:parseInt(m.arguments[1].value,10),measureName:w.measureName}},lowerOrGreaterCaptions:function(e,t){if(!(0,r.G)(e,"filter"))throw new i.h("lowerOrGreaterCaptions",e);const[n,s]=e.arguments;if(!(0,r.G)(n,"members")||"Function"!==s.elementType||"Infix"!==s.syntax||void 0===T[s.name])throw new i.h("lowerOrGreaterCaptions",e);const m=T[s.name],u=n.arguments[0],c=s.arguments[1];if("Literal"!==c.elementType||!(0,a.a)(u)||"STRING"!==c.type||!(0,r.G)(s.arguments[0],"member_caption"))throw new i.h("lowerOrGreaterCaptions",e);const l=(0,o.c)(u,{cube:t,shouldThrowOnMissingHierarchy:!0});if("level"!==l.type)throw new i.h("lowerOrGreaterCaptions",e);const{dimensionName:h,hierarchyName:d,levelName:g}=l;return{dimensionName:h,hierarchyName:d,levelName:g,token:c.value,lowerOrGreaterMode:m,type:"lowerOrGreaterCaptions"}},captionsContaining:function(e,t){if(!(0,r.G)(e,"filter"))throw new i.h("captionsContaining",e);const[n,h]=e.arguments;if(!(0,r.G)(n)||!(0,r.G)(h))throw new i.h("captionsContaining",e);const[d,g]=h.arguments,f=(({evaluationNode:e,literalOrScalarNode:t,stringSearchFunctionNode:n})=>{if(((0,r.G)(e,"=")||(0,r.G)(e,"<>"))&&(0,m.d)(t)&&((0,r.G)(n,"left")||(0,r.G)(n,"right"))&&2===n.arguments.length){const[r,a]=n.arguments;if(l(r)&&(0,u._)(t)&&(0,c.f)(a,`${t.value.length}`)){const r=t.value;return"Left"===n.name?"="===e.name?{token:r,mode:"startsWith"}:{token:r,mode:"doesNotStartWith"}:"="===e.name?{token:r,mode:"endsWith"}:{token:r,mode:"doesNotEndWith"}}}if(((0,r.G)(e,">")||(0,r.G)(e,"="))&&(0,c.f)(t,"0")&&(0,r.G)(n,"instr")&&3===n.arguments.length){const[t,r,a]=n.arguments;if(l(r)&&(0,c.f)(t,"1")&&(0,m.d)(a)&&n.arguments[2]&&(0,u._)(n.arguments[2])){const t=n.arguments[2].value;return"="===e.name?{token:t,mode:"doesNotContain"}:{token:t,mode:"contains"}}}})({evaluationNode:h,literalOrScalarNode:g,stringSearchFunctionNode:d});if(!f)throw new i.h("captionsContaining",e);const w=n.arguments[0];if(!(0,a.a)(w))throw new Error(`MDX does not represent a filter on captions containing: ${(0,s.P)(e)}`);const p=(0,o.c)(w,{cube:t,shouldThrowOnMissingHierarchy:!0});if("level"!==p.type)throw new i.h("captionsContaining",e);const{dimensionName:y,hierarchyName:N,levelName:v}=p;return{dimensionName:y,hierarchyName:N,levelName:v,token:f.token,containingMode:f.mode,type:"captionsContaining"}},captionsRange:function(e,t){if(!(0,r.G)(e,"filter"))throw new i.h("captionsRange",e);const[n,s]=e.arguments;if(!(0,r.G)(n,"members")||!(0,r.G)(s)||!d(s))throw new i.h("captionsRange",e);const m=n.arguments[0],[u,c]=s.arguments;if(!g(u)||!g(c)||!(0,a.a)(m))throw new i.h("captionsRange",e);const l=(0,o.c)(m,{cube:t,shouldThrowOnMissingHierarchy:!0});if("level"!==l.type)throw new i.h("captionsRange",e);const{dimensionName:h,hierarchyName:f,levelName:w}=l,p=u.arguments[1],y=c.arguments[1];return{type:"captionsRange",dimensionName:h,hierarchyName:f,levelName:w,lowerToken:p.value,upperToken:y.value,isBetween:"and"===s.name.toLowerCase()}},dateRange:function(e,t){if(!(0,r.G)(e,"filter"))throw new i.h("dateRange",e);const[n,s]=e.arguments;if(!(0,r.G)(n,"members")||!(0,r.G)(s,"and"))throw new i.h("dateRange",e);const[m,u]=s.arguments,c=n.arguments[0];if(!(0,r.G)(m,"isdate")||!b(u)&&!G(u)||!(0,a.a)(c))throw new i.h("dateRange",e);const l=(0,o.c)(c,{cube:t,shouldThrowOnMissingHierarchy:!0});if("level"!==l.type)throw new i.h("dateRange",e);const{dimensionName:h,hierarchyName:d,levelName:g}=l;return{type:"dateRange",dimensionName:h,hierarchyName:d,levelName:g,...D(u)}},timePeriodToDate:function(e,t){if(!(0,r.G)(e,"filter"))throw new i.h("timePeriodToDate",e);const[n,a]=e.arguments;if(!(0,r.G)(n,"members")||!(0,r.G)(a,"and"))throw new i.h("timePeriodToDate",e);const[s,m]=a.arguments;if(!(0,r.G)(s,"isdate")||!(0,r.G)(m,"()")||!(0,r.G)(m.arguments[0],"and"))throw new i.h("timePeriodToDate",e);const[u,c]=m.arguments[0].arguments;if(!S(u,"=")||!S(c,"<="))throw new i.h("timePeriodToDate",e);const l=u.arguments[0].arguments[0].value,h=n.arguments[0];if("CompoundIdentifier"!==h.elementType)throw new i.h("timePeriodToDate",e);const d=(0,o.c)(h,{cube:t,shouldThrowOnMissingHierarchy:!0});if("level"!==d.type)throw new i.h("timePeriodToDate",e);const{dimensionName:g,hierarchyName:f,levelName:w}=d;return{type:"timePeriodToDate",dimensionName:g,hierarchyName:f,levelName:w,timePeriod:"m"===l?"month":"q"===l?"quarter":"year"}},recentDates:(e,t)=>{if(!(0,r.G)(e,"Subset"))throw new i.h("recentDates",e);const[n,s,m]=e.arguments;if(!((0,r.G)(n,"Order")&&(0,c.f)(s,"0")&&(0,u._)(m)&&"SCALAR"===m.type))throw new i.h("recentDates",e);const[l,h,d]=n.arguments;if(!(0,u._)(d)||"BDESC"!==d.value)throw new i.h("recentDates",e);if(!(0,r.G)(l))throw new i.h("recentDates",e);const g=function(e,t){if(!(0,r.G)(e,"Members")||!(0,a.a)(e.arguments[0]))return;const n=(0,o.c)(e.arguments[0],{cube:t});return"level"===n.type&&(0,P.W)(n,t).type.includes("TIME")?n:void 0}(l,t),f=function(e,t){if(!((0,r.G)(e,"MemberValue")&&(0,r.G)(e.arguments[0],"CurrentMember")&&(0,a.a)(e.arguments[0].arguments[0])))return;const n=(0,o.c)(e.arguments[0].arguments[0],{cube:t});return"hierarchy"===n.type?n:void 0}(h,t);if(!g||!f||!(0,I.I)(g,f))throw new i.h("recentDates",e);const w=l.arguments[0];if(!(0,a.a)(w))throw new i.h("recentDates",e);const p=(0,o.c)(w,{cube:t,shouldThrowOnMissingHierarchy:!0});if("level"!==p.type)throw new i.h("recentDates",e);const{dimensionName:y,hierarchyName:N,levelName:v}=p,G=e.arguments[2];if(!(0,u._)(G)||"SCALAR"!==G.type)throw new i.h("recentDates",e);return{dimensionName:y,hierarchyName:N,levelName:v,numberOfRecentDates:parseInt(G.value),type:"recentDates"}}};function j(e,t){if((0,r.G)(e,"except"))return{...j(e.arguments[1],t),isExclusionFilter:!0};for(const n of Object.values(V))try{return n(e,t)}catch{}return function(e,t){const n=(0,$.E)(e,{cube:t})[0];if(void 0===n)throw new Error("An MDX expression representing a filter must include a hierarchy.");return{type:"custom",mdx:e,...n}}(e,t)}},24281:(e,t,n)=>{n.d(t,{C5:()=>i,Uq:()=>o});var r=n(66029),a=n(60021);const s=(0,r.createContext)({}),o=s.Provider;function i(e){const t=(0,r.useContext)(s);return(0,r.useMemo)((()=>e.map((e=>(0,a.s)("menu-item",e,t)))),[t,e])}s.Consumer}}]);