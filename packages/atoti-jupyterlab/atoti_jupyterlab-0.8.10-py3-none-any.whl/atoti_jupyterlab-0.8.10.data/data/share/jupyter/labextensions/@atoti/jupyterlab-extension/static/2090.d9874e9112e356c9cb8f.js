"use strict";(self.webpackChunk_atoti_jupyterlab_extension=self.webpackChunk_atoti_jupyterlab_extension||[]).push([[2090],{25829:(e,t,n)=>{function r(e,t){return!(!e||!t)&&e.dimensionName===t.dimensionName&&e.hierarchyName===t.hierarchyName&&e.levelName===t.levelName}n.d(t,{i:()=>r})},81263:(e,t,n)=>{n.d(t,{w:()=>r});class r extends Error{serverKey;constructor(e){super(`The server: "${e}" does not contain any cube.`),this.serverKey=e}}},61900:(e,t,n)=>{function r(e){const{kpiName:t,kpiPropertyName:n,underlyingMeasureName:r}=e;return`${n}(${t}): ${r}`}n.d(t,{R:()=>r})},64801:(e,t,n)=>{n.d(t,{v:()=>s});var r=n(64682);class s extends Error{constructor(e,t){super(`Expression ${(0,r.P)(e)} cannot be resolved as a member of cube "${t}".`)}}},74683:(e,t,n)=>{n.d(t,{X:()=>h});var r=n(77026),s=n(69673),i=n(97700),a=n(40719),o=n(12562);function u({descendantsNode:e,dimensionName:t,hierarchyName:n,indexOfDeepestLevelExpressedInInputSet:r,cube:i}){const[,u,l]=e.arguments,c=u&&!((0,o._)(u)&&"PLACE_HOLDER"===u.type),m=l&&(0,o._)(l)?l.value.toLowerCase():void 0,d=(0,s._)({dimensionName:t,hierarchyName:n},i),p=Object.keys(d.levels);if(m&&m.includes("after"))return p.length-1;if(!c&&!m)return p.length-1;if(!c&&"leaves"===m)return p.length-1;let f=r;if(u)if((0,a.a)(u)){const e=u.identifiers[2].value;f=p.findIndex((t=>t===e))}else{if(!(0,o._)(u))throw new Error(`Unsupported elementType "${u.elementType}". The second argument of a Descendants function is expected to be a literal (elementType="Literal").`);f+=parseInt(u.value,10)}return"before"===m&&f--,f=Math.max(0,r,f),f=Math.min(f,p.length-1),f}var l=n(1965),c=n(22045),m=n(33055),d=n(284),p=n(14767),f=n(83195);const h=(e,t,n)=>{const h=[];(0,m.i)(e,{cube:t}).forEach((({match:n,path:i})=>{const m=(0,c.c)(n,{cube:t});if("level"===m.type||"member"===m.type||"hierarchy"===m.type){const{dimensionName:n,hierarchyName:c}=m,p=(0,s._)({dimensionName:n,hierarchyName:c},t);let y=0;if("level"===m.type||"member"===m.type){const e=m.levelName;y=p.levels[e].index}const{path:v}=(0,d.k)(e,i,{shouldStopAtUnion:!0});for(let s=v.length-1;s<i.length;s++){const l=i.slice(0,s),d=0===l.length?e:(0,r.get)(e,l);if((0,f.G)(d))switch(d.name.toLowerCase()){case"currentmember":return;case"drilldownlevel":case"drilldownlevelbottom":case"drilldownleveltop":case"drilldownmember":case"drilldownmemberbottom":case"drilldownmembertop":case"children":case"firstchild":case"lastchild":y++;break;case"drilluplevel":case"parent":y--;break;case"ancestor":case"ancestors":{const e=d.arguments[1];if((0,a.a)(e)){const t=e.identifiers[2].value;y=p.levels[t].index}else{if(!(0,o._)(e))throw new Error(`Unsupported elementType "${e.elementType}". The second argument of an "${d.name}" function is expected to be a literal (elementType="Literal").`);y-=parseInt(e.value,10)}}break;case"descendants":y=u({descendantsNode:d,dimensionName:n,hierarchyName:c,indexOfDeepestLevelExpressedInInputSet:y,cube:t});break;case"allmembers":case"members":y="hierarchy"===m.type?Object.values(p.levels).length-1:y}}y=Math.max(0,y),y=Math.min(y,Object.keys(p.levels).length-1);const g=(0,l.d)(p,y);h.push({dimensionName:n,hierarchyName:c,levelName:g,match:(0,r.get)(e,v),path:v})}}));const y=h.filter((({match:t,path:n})=>(0,p.b)(e,n)&&!(0,f.G)(t,"DefaultMember")));return n?y.filter((({dimensionName:e,hierarchyName:t,levelName:r})=>n.some((n=>(0,i.I)({dimensionName:e,hierarchyName:t},n)&&(!("levelName"in n)||r===n.levelName))))):y}},99214:(e,t,n)=>{n.d(t,{Q:()=>p});var r=n(69673),s=n(24301),i=n(60109),a=n(22045),o=n(40719),u=n(83195),l=n(1918);function c(e,t){const[n,r]=e.arguments,s=(0,u.G)(n,"{}")&&1===n.arguments.length?n.arguments[0]:n,l=(0,i.c)(s,{cube:t,shouldThrowOnInvalidMember:!1}),c=function(e,t){if(!e||!(0,o.a)(e))return;const n=(0,a.c)(e,{cube:t});return"level"===n.type?{dimensionName:n.dimensionName,hierarchyName:n.hierarchyName,levelName:n.levelName}:void 0}(r,t);if(l&&c)return{memberCoordinates:l,toLevel:c}}function m(e,t){const n=[],r=e.arguments;let a=0;for(;a<r.length;a++){const e=r[a],s=(0,i.c)(e,{cube:t,shouldThrowOnInvalidMember:!1});if(!s)break;n.push(s)}if(0===a)return;const o=r[a],l=(0,u.G)(o,"AddCalculatedMembers")?o.arguments[0]:o;if((0,u.G)(l,"Descendants")){const e=c(l,t);if(e)return n.push(e.memberCoordinates),{tupleCoordinates:n,toLevel:e.toLevel}}const m=(0,s.O)(l,{cube:t})[0];return m?{tupleCoordinates:n,toLevel:m}:void 0}function d(e,t){return e.some((e=>"Measures"!==e.dimensionName&&!(0,r._)(e,t).slicing&&1===e.namePath.length&&"AllMember"===e.namePath[0]))}function p(e,t,n){(0,l.f)(e,((e,r)=>{if((0,u.G)(e,"union"))for(let s=0;s<e.arguments.length;s++){const i=e.arguments[s],a=(0,u.G)(i,"AddCalculatedMembers")?i.arguments[0]:i;let o;if((0,u.G)(a,"Descendants")){const e=c(a,t);e&&(o={tupleCoordinates:[e.memberCoordinates],toLevel:e.toLevel})}if((0,u.G)(a,"Crossjoin")&&(o=m(a,t)),o&&!d(o.tupleCoordinates,t)&&!1===n({...o,path:[...r,"arguments",s]}))return!1}}))}},53100:(e,t,n)=>{n.d(t,{a:()=>i});var r=n(4333),s=n(78627);function i(e){return(0,s.m)(e)?i(e.select):e.withClause?.reduce(((e,t)=>{const{identifiers:n}=t.name;return(0,r.T)(t.name)?{...e,[n[1].value]:t}:e}),{})}},45387:(e,t,n)=>{n.d(t,{K:()=>a});var r=n(77026),s=n(99214),i=n(86381);function a(e,t){if((0,i.V)(e))return(0,r.flatMap)(e.axes,(e=>a(e,t)));const n=[];return(0,s.Q)(e,t,(({tupleCoordinates:e,toLevel:t})=>{n.push({tupleCoordinates:e,toLevel:t})})),n}},30554:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(51153);function s(e,{cube:t}){return(0,r.V)(e,{cube:t})}},24301:(e,t,n)=>{n.d(t,{O:()=>i});var r=n(77026),s=n(74683);function i(e,{cube:t}){const n=(0,s.X)(e,t);return(0,r.uniqWith)(n.map((({dimensionName:e,hierarchyName:t,levelName:n})=>({dimensionName:e,hierarchyName:t,levelName:n}))),r.isEqual)}},10132:(e,t,n)=>{function r(e){return"measure"===e.type?e.measureName:e.identifiers[1].value}n.d(t,{S:()=>r})},44031:(e,t,n)=>{n.d(t,{g:()=>l});var r=n(77026),s=n(10132),i=n(7169),a=n(25714),o=n(78627),u=n(1918);function l(e){if(null==e)return[];if((0,o.m)(e))return l(e.select);const t=(0,i.S)(e),n=e.axes.find((({name:e})=>e===t));if(!n)return[];const c=[];(0,u.f)(n,((e,t)=>{(0,a.H)(n,e,t)&&c.push(e)}));const m=c.map(s.S);return(0,r.uniq)(m)}},7169:(e,t,n)=>{n.d(t,{S:()=>i});var r=n(98698),s=n(25714);function i(e){const t=e.axes.find((e=>void 0!==(0,r.E)(e,((t,n)=>(0,s.H)(e,t,n)))));return t?t.name:"COLUMNS"}},60109:(e,t,n)=>{n.d(t,{c:()=>a});var r=n(64801),s=n(22045),i=n(40719);function a(e,t){try{if(!(0,i.a)(e))throw new r.v(e,t.cube.name);const n=(0,s.c)(e,t);if("measure"===n.type)return{dimensionName:"Measures",hierarchyName:"Measures",namePath:[n.measureName]};if("member"===n.type)return{dimensionName:n.dimensionName,hierarchyName:n.hierarchyName,namePath:n.path};throw new r.v(e,t.cube.name)}catch(e){if(e instanceof r.v&&!1===t.shouldThrowOnInvalidMember)return;throw e}}},52661:(e,t,n)=>{n.d(t,{k:()=>l});var r=n(97700),s=n(25829),i=n(22045),a=n(77026),o=n(64682);const u=(e,t,n)=>{const[r,u]=[e,t].map((e=>(0,i.c)(e,{cube:n}))),l=[r,u].find((({type:e})=>!["measure","member"].includes(e)));if(void 0!==l)throw new Error(`The compound identifier "${(0,o.P)(l,{indent:!0})}" does not represent a member.`);return"measure"===r.type&&"measure"===u.type?r.measureName===u.measureName:"member"===r.type&&"member"===u.type&&!!(0,s.i)(r,u)&&(r.path.length===u.path.length?(0,a.isEqual)(r,u):r.path.at(-1)===u.path.at(-1))};function l(e,t,n){const[a,o]=[e,t].map((e=>(0,i.c)(e,{cube:n})));if(a.type!==o.type)return!1;switch(a.type){case"namedSet":return a.setName===o.setName;case"dimension":return a.dimensionName===o.dimensionName;case"hierarchy":return(0,r.I)(a,o);case"level":return(0,s.i)(a,o);case"measure":case"member":return u(a,o,n)}}},33055:(e,t,n)=>{n.d(t,{i:()=>o});var r=n(97700),s=n(23782),i=n(40719),a=n(1918);const o=(e,{hierarchyCoordinates:t,cube:n})=>{const o=[];return(0,a.f)(e,((e,a)=>{if((0,i.a)(e))if(t){const[i]=(0,s.E)(e,{cube:n});(0,r.I)(t,i)&&o.push({match:e,path:a})}else o.push({match:e,path:a})})),o}},51153:(e,t,n)=>{n.d(t,{V:()=>m});var r=n(22045),s=n(40719),i=n(78627),a=n(83195),o=n(52661),u=n(22231);const l=e=>e?(0,a.G)(e.expression)&&"()"===e.expression.name?e.expression.arguments.map(((e,t)=>({mdx:e,path:["expression","arguments",t],filterClass:"slicer"}))):[{mdx:e.expression,path:["expression"],filterClass:"slicer"}]:[],c=(e,t,n)=>{const i=(0,r.c)(e.mdx,{cube:n});return t.findIndex((e=>!!(0,s.a)(e.mdx)&&(0,o.k)(i,e.mdx,n)))};function m(e,{cube:t}){if((0,i.m)(e))return m(e.select,{cube:t}).map((({mdx:e,paths:t,filterClass:n})=>({mdx:e,paths:t.map((e=>["select",...e])),filterClass:n})));const n=[];if((0,u.I)(e)){const t=(e.axes||[]).findIndex((e=>"COLUMNS"===e.name));if(-1!==t){const r=e.axes[t];n.push({mdx:r.expression,paths:[["axes",t,"expression"]],filterClass:"subselect"})}}const r=e.from&&(0,u.I)(e.from)?m(e.from,{cube:t}).map((({mdx:e,paths:t,filterClass:n})=>({mdx:e,paths:t.map((e=>["from",...e])),filterClass:n}))):[],s=e.slicerAxis?l(e.slicerAxis).map((({mdx:e,path:t})=>({mdx:e,path:["slicerAxis",...t],filterClass:"slicer"}))):[],a=[];let o=0;for(;o+a.length<s.length;){const e=s[o+a.length],n=c(e,r,t);-1!==n?(r[n].paths.push(e.path),o++):a.push({mdx:e.mdx,paths:[e.path],filterClass:"slicer"})}return[...r,...a,...n]}},56918:(e,t,n)=>{n.d(t,{w:()=>u});var r=n(1918),s=n(284),i=n(25714),a=n(6909),o=n(86381);const u=e=>{const t=[];if((0,o.V)(e))for(let t=0;t<e.axes.length;t++){const n=u(e.axes[t]);if(n.length>0)return n.map((e=>["axes",t,...e]))}if((0,a.Q)(e)){const n=e;(0,r.f)(n,((e,r)=>{if((0,i.H)(n,e,r)&&!t.some((e=>e.every(((e,t)=>r[t]===e))))){const{path:e}=(0,s.k)(n,r);t.push(e)}}))}return t}},25714:(e,t,n)=>{n.d(t,{H:()=>o});var r=n(77026),s=n(4333),i=n(83195),a=n(6909);const o=(e,t,n)=>{if(!(0,s.T)(t))return!1;const o=(0,r.initial)(n),u=(0,r.initial)(o),l=o.length>0?(0,r.get)(e,o):e,c=u.length>0?(0,r.get)(e,u):void 0;return(0,a.Q)(l)||(0,i.G)(c)&&("{}"===c.name||"crossjoin"===c.name.toLowerCase())}},22231:(e,t,n)=>{n.d(t,{I:()=>r});const r=e=>"SubSelect"===e.elementType},4333:(e,t,n)=>{n.d(t,{T:()=>i});var r=n(10132),s=n(40719);const i=(e,{measureName:t}={})=>!(!(0,s.a)(e)||"measures"!==e.identifiers[0].value.toLowerCase()||void 0===e.identifiers[1]||void 0!==t&&(0,r.S)(e)!==t)},12562:(e,t,n)=>{function r(e){return"Literal"===e.elementType}n.d(t,{_:()=>r})},51680:(e,t,n)=>{function r(e,t){return"Literal"===e.elementType&&"SCALAR"===e.type&&e.value===t}n.d(t,{f:()=>r})},51702:(e,t,n)=>{function r(e){return"Literal"===e.elementType&&"STRING"===e.type}n.d(t,{d:()=>r})},86492:(e,t,n)=>{n.d(t,{V:()=>i});var r=n(14618),s=n(77026);const i=function(e,t,n){return(0,r.produce)(e,(e=>{(0,s.update)(e,t,n)}))}},60047:(e,t,n)=>{n.d(t,{ZP:()=>v,zF:()=>s});const r={UNDO:"@@redux-undo/UNDO",REDO:"@@redux-undo/REDO",JUMP_TO_FUTURE:"@@redux-undo/JUMP_TO_FUTURE",JUMP_TO_PAST:"@@redux-undo/JUMP_TO_PAST",JUMP:"@@redux-undo/JUMP",CLEAR_HISTORY:"@@redux-undo/CLEAR_HISTORY"},s={undo:()=>({type:r.UNDO}),redo:()=>({type:r.REDO}),jumpToFuture:e=>({type:r.JUMP_TO_FUTURE,index:e}),jumpToPast:e=>({type:r.JUMP_TO_PAST,index:e}),jump:e=>({type:r.JUMP,index:e}),clearHistory:()=>({type:r.CLEAR_HISTORY})};function i(e,t=[]){return Array.isArray(e)?e:"string"==typeof e?[e]:t}function a(e,t,n,r=null){return{past:e,present:t,future:n,group:r,_latestUnfiltered:t,index:e.length,limit:e.length+n.length+1}}let o,u;const l={prevState:"#9E9E9E",action:"#03A9F4",nextState:"#4CAF50"};function c(e,t,n){return[`%c${e}`,`color: ${t}; font-weight: bold`,n]}function m(e){o&&(console.group?u.next=c("next history",l.nextState,e):u.next=["next history",e],function(){const{header:e,prev:t,next:n,action:r,msgs:s}=u;console.group?(console.groupCollapsed(...e),console.log(...t),console.log(...r),console.log(...n),console.log(...s),console.groupEnd()):(console.log(...e),console.log(...t),console.log(...r),console.log(...n),console.log(...s))}())}function d(...e){o&&(u.msgs=u.msgs.concat([...e,"\n"]))}function p(e,t){const n=a([],e,[]);return t&&(n._latestUnfiltered=null),n}function f(e,t){if(t<0||t>=e.future.length)return e;const{past:n,future:r,_latestUnfiltered:s}=e;return a([...n,s,...r.slice(0,t)],r[t],r.slice(t+1))}function h(e,t){if(t<0||t>=e.past.length)return e;const{past:n,future:r,_latestUnfiltered:s}=e,i=n.slice(0,t),o=[...n.slice(t+1),s,...r];return a(i,n[t],o)}function y(e,t){return t>0?f(e,t-1):t<0?h(e,e.past.length+t):e}function v(e,t={}){!function(e){o=e}(t.debug);const n={limit:void 0,filter:()=>!0,groupBy:()=>null,undoType:r.UNDO,redoType:r.REDO,jumpToPastType:r.JUMP_TO_PAST,jumpToFutureType:r.JUMP_TO_FUTURE,jumpType:r.JUMP,neverSkipReducer:!1,ignoreInitialState:!1,syncFilter:!1,...t,initTypes:i(t.initTypes,["@@redux-undo/INIT"]),clearHistoryType:i(t.clearHistoryType,[r.CLEAR_HISTORY])},s=n.neverSkipReducer?(t,n,...r)=>({...t,present:e(t.present,n,...r)}):e=>e;let v;return(t=v,r={},...i)=>{!function(e,t){u={header:[],prev:[],action:[],next:[],msgs:[]},o&&(console.group?(u.header=["%credux-undo","font-style: italic","action",e.type],u.action=c("action",l.action,e),u.prev=c("prev history",l.prevState,t)):(u.header=["redux-undo action",e.type],u.action=["action",e],u.prev=["prev history",t]))}(r,t);let g,x=t;if(!v){if(d("history is uninitialized"),void 0===t)return x=p(e(t,{type:"@@redux-undo/CREATE_HISTORY"},...i),n.ignoreInitialState),d("do not set initialState on probe actions"),m(x),x;!function(e){return typeof e.present<"u"&&typeof e.future<"u"&&typeof e.past<"u"&&Array.isArray(e.future)&&Array.isArray(e.past)}(t)?(x=v=p(t,n.ignoreInitialState),d("initialHistory initialized: initialState is not a history",v)):(x=v=n.ignoreInitialState?t:a(t.past,t.present,t.future),d("initialHistory initialized: initialState is a history",v))}switch(r.type){case void 0:return x;case n.undoType:return g=y(x,-1),d("perform undo"),m(g),s(g,r,...i);case n.redoType:return g=y(x,1),d("perform redo"),m(g),s(g,r,...i);case n.jumpToPastType:return g=h(x,r.index),d(`perform jumpToPast to ${r.index}`),m(g),s(g,r,...i);case n.jumpToFutureType:return g=f(x,r.index),d(`perform jumpToFuture to ${r.index}`),m(g),s(g,r,...i);case n.jumpType:return g=y(x,r.index),d(`perform jump to ${r.index}`),m(g),s(g,r,...i);case function(e,t){return t.indexOf(e)>-1?e:!e}(r.type,n.clearHistoryType):return g=p(x.present,n.ignoreInitialState),d("perform clearHistory"),m(g),s(g,r,...i);default:if(g=e(x.present,r,...i),n.initTypes.some((e=>e===r.type)))return d("reset history due to init action"),m(v),v;if(x._latestUnfiltered===g)return x;if("function"==typeof n.filter&&!n.filter(r,g,x)){const e=a(x.past,g,x.future,x.group);return n.syncFilter||(e._latestUnfiltered=x._latestUnfiltered),d("filter ignored action, not storing it in past"),m(e),e}const t=n.groupBy(r,g,x);if(null!=t&&t===x.group){const e=a(x.past,g,x.future,x.group);return d("groupBy grouped the action with the previous action"),m(e),e}return x=function(e,t,n,r){const s=e.past.length+1;d("inserting",t),d("new free: ",n-s);const{past:i,_latestUnfiltered:o}=e,u=n&&n<=s,l=i.slice(u?1:0);return a(null!=o?[...l,o]:l,t,[],r)}(x,g,n.limit,t),d("inserted new state into history"),m(x),x}}}}}]);