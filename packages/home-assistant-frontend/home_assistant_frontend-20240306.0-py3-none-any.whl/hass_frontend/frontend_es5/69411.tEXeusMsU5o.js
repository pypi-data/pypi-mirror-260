"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[69411],{72450:function(e,t,n){n.d(t,{Vw:function(){return a},kG:function(){return o},y6:function(){return i}});n(68113),n(55888);var r=function(e,t,n){return new Promise((function(r,i){var o=document.createElement(e),a="src",l="body";switch(o.onload=function(){return r(t)},o.onerror=function(){return i(t)},e){case"script":o.async=!0,n&&(o.type=n);break;case"link":o.type="text/css",o.rel="stylesheet",a="href",l="head"}o[a]=t,document[l].appendChild(o)}))},i=function(e){return r("link",e)},o=function(e){return r("script",e)},a=function(e){return r("script",e,"module")}},69411:function(e,t,n){n.r(t),n.d(t,{HaPanelCustom:function(){return w}});var r=n(66123),i=n(36683),o=n(89231),a=n(29864),l=n(69427),s=n(83647),u=n(8364),c=n(76504),d=n(80792),h=(n(77052),n(53501),n(21950),n(848),n(68113),n(34517),n(64148),n(8339),n(40924)),f=n(196),p=n(28825),m=n(61314),k=(n(55888),n(72450)),v={},y=function(e){return e.html_url?{type:"html",url:e.html_url}:e.module_url&&e.js_url?{type:"js",url:e.js_url}:e.module_url?{type:"module",url:e.module_url}:{type:"js",url:e.js_url}},_=(n(1158),n(66274),n(84531),n(34290),function(e,t){"setProperties"in e?e.setProperties(t):Object.keys(t).forEach((function(n){e[n]=t[n]}))}),w=(0,u.A)(null,(function(e,t){var n=function(t){function n(){var t;(0,o.A)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=(0,a.A)(this,n,[].concat(i)),e((0,l.A)(t)),t}return(0,s.A)(n,t),(0,i.A)(n)}(t);return{F:n,d:[{kind:"field",decorators:[(0,f.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,f.MZ)({type:Boolean})],key:"narrow",value:function(){return!1}},{kind:"field",decorators:[(0,f.MZ)({attribute:!1})],key:"route",value:void 0},{kind:"field",decorators:[(0,f.MZ)({attribute:!1})],key:"panel",value:void 0},{kind:"field",key:"_setProperties",value:void 0},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"field",key:"navigate",value:function(){return function(e,t){return(0,p.o)(e,t)}}},{kind:"method",key:"registerIframe",value:function(e,t){e(this.panel,{hass:this.hass,narrow:this.narrow,route:this.route}),this._setProperties=t}},{kind:"method",key:"disconnectedCallback",value:function(){(0,c.A)((0,d.A)(n.prototype),"disconnectedCallback",this).call(this),this._cleanupPanel()}},{kind:"method",key:"update",value:function(e){if((0,c.A)((0,d.A)(n.prototype),"update",this).call(this,e),e.has("panel")){var t=e.get("panel");if(!(0,m.b)(t,this.panel))return t&&this._cleanupPanel(),void this._createPanel(this.panel)}if(this._setProperties){var i,o={},a=(0,r.A)(e.keys());try{for(a.s();!(i=a.n()).done;){var l=i.value;o[l]=this[l]}}catch(s){a.e(s)}finally{a.f()}this._setProperties(o)}}},{kind:"method",key:"_cleanupPanel",value:function(){for(delete window.customPanel,this._setProperties=void 0;this.lastChild;)this.removeChild(this.lastChild)}},{kind:"method",key:"_createPanel",value:function(e){var t=this,n=e.config._panel_custom,r=y(n),i=document.createElement("a");if(i.href=r.url,n.trust_external||["localhost","127.0.0.1",location.hostname].includes(i.hostname)||confirm("".concat(this.hass.localize("ui.panel.custom.external_panel.question_trust",{name:n.name,link:i.href}),"\n\n           ").concat(this.hass.localize("ui.panel.custom.external_panel.complete_access"),"\n\n           (").concat(this.hass.localize("ui.panel.custom.external_panel.hide_message"),")")))if(n.embed_iframe){var o,a;window.customPanel=this;var l=this.panel.title?'title="'.concat(this.panel.title,'"'):"";this.innerHTML="\n      <style>\n        iframe {\n          border: 0;\n          width: 100%;\n          height: 100%;\n          display: block;\n          background-color: var(--primary-background-color);\n        }\n      </style>\n      <iframe ".concat(l,"></iframe>").trim();var s=this.querySelector("iframe").contentWindow.document;s.open(),s.write("<!doctype html><script src='".concat(window.customPanelJS,"'><\/script>")),s.close()}else(o=n,a=y(o),"js"===a.type?(a.url in v||(v[a.url]=(0,k.kG)(a.url)),v[a.url]):"module"===a.type?(0,k.Vw)(a.url):Promise.reject("No valid url found in panel config.")).then((function(){var r=function(e){var t="html_url"in e?"ha-panel-".concat(e.name):e.name;return document.createElement(t)}(n);t._setProperties=function(e){return _(r,e)},_(r,{panel:e,hass:t.hass,narrow:t.narrow,route:t.route}),t.appendChild(r)}),(function(){alert("Unable to load custom panel from ".concat(i.href))}))}}]}}),h.mN);customElements.define("ha-panel-custom",w)}}]);
//# sourceMappingURL=69411.tEXeusMsU5o.js.map