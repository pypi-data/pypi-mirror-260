"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[159,502],{61502:function(e,n,t){t.r(n),t.d(n,{default:function(){return ee},useShadowRoot:function(){return J},useWebComponentInfo:function(){return Y}});var i=t(1413),r=t(29439),a=t(74165),o=t(15861),l=t(24530),c=t(24717),s=t(61724);function u(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0,i=(0,l.Qc)(e),r=(0,c.Vn)(i,{Field:{enter:function(e){var i;if(null!==e&&void 0!==e&&null!==(i=e.directives)&&void 0!==i&&i.find((function(e){var i,r,a,o,l=e.name.value,c=null===(i=e.arguments)||void 0===i?void 0:i[0].name.value,s=null===(r=e.arguments)||void 0===r||null===(a=r[0].value)||void 0===a?void 0:a.value,u=null===(o=e.arguments)||void 0===o?void 0:o[0];if("since"===l&&"version"===c){if(t(s))return!0}else if("deprecatedSince"===l&&"version"===c){var d="StringValue"===(null===u||void 0===u?void 0:u.value.kind)?null===u||void 0===u?void 0:u.value.value:n[null===u||void 0===u?void 0:u.value.name.value];if(!t(d))return!0}else if("skipOnClient"===l&&"if"===c){if("BooleanValue"===(null===u||void 0===u?void 0:u.value.kind)&&u.value.value)return!0;if("Variable"===(null===u||void 0===u?void 0:u.value.kind)&&n[u.value.name.value])return!0}return!1})))return null},leave:function(e){var n;if(e.selectionSet&&"SelectionSet"===e.selectionSet.kind&&0===(null===(n=e.selectionSet.selections)||void 0===n?void 0:n.length))return null}},Directive:{leave:function(e){var n=e.name.value;if(["since","deprecatedSince","skipOnClient"].includes(n))return null}}}),a={};return(0,c.Vn)(r,{Variable:function(e){a[e.name.value]=(a[e.name.value]||0)+1}}),r=(0,c.Vn)(r,{VariableDefinition:{enter:function(e){if(a[e.variable.name.value]<=1)return null}}}),(0,s.S)(r)}var d=t(41011);d.RelayFeatureFlags.ENABLE_RELAY_RESOLVERS=!0;var v=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(n,t){var i,r,o,l,c,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==globalThis.backendaiclient){e.next=3;break}return e.next=3,new Promise((function(e){document.addEventListener("backend-ai-connected",(function n(){document.removeEventListener("backend-ai-connected",n),e(void 0)}))}));case 3:return o=u(n.text||"",t,(function(e){var n;return!(null!==(n=globalThis.backendaiclient)&&void 0!==n&&n.isManagerVersionCompatibleWith(e))})),l={query:o,variables:t},c=null===(i=globalThis.backendaiclient)||void 0===i?void 0:i.newSignedRequest("POST","/admin/gql",l),e.next=8,null===(r=globalThis.backendaiclient)||void 0===r?void 0:r._wrapWithPromise(c,!1,null,1e4,0).catch((function(e){}));case 8:if(e.t0=e.sent,e.t0){e.next=11;break}e.t0={};case 11:return s=e.t0,e.abrupt("return",s);case 13:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();var f,m=new d.Environment({network:d.Network.create(v,void 0),store:new d.Store(new d.RecordSource)}),p=t(80382),h=t(21232),g=t(27340),x=t(41239),b=t(44036),y=t(47226),Z=t(49883),k=t(66670),w=t(99517),j=t.n(w),E=(t(24989),t(79354)),C=t.n(E),S=t(79748),P=t.n(S),N=t(51714),O=t.n(N),L=t(63540),M=t.n(L),T=t(18272),V=t.n(T),R=t(9666),_=t.n(R),A=t(64447),z=t(13881),I=t(4519),F=t(81748),D=t(87112),B=t(16980),H=t(51843),W=t(12674),q=t(55144),G=t(73181),Q=t(2556);j().extend(_()),j().extend(C()),j().extend(P()),j().extend(O()),j().extend(V()),j().extend(M());var K=I.createContext(null),$=I.createContext(null),J=function(){return I.useContext($)},Y=function(){return I.useContext(K)},U=new D.QueryClient({defaultOptions:{queries:{suspense:!0,refetchOnWindowFocus:!1,retry:!1}}});A.ZP.use(F.Db).use(z.Z).init({backend:{loadPath:"/resources/i18n/{{lng}}.json"},lng:(null===globalThis||void 0===globalThis||null===(f=globalThis.backendaioptions)||void 0===f?void 0:f.get("current_language"))||"en",fallbackLng:"en",interpolation:{escapeValue:!1},react:{transSupportBasicHtmlNodes:!0,transKeepBasicHtmlNodesFor:["br","strong","span","code","p"]}});var X=function(){var e=(0,W.s0)();return(0,I.useLayoutEffect)((function(){var n=function(n){var t=n.detail;e(t,{replace:!0})};return document.addEventListener("react-navigate",n),function(){document.removeEventListener("react-navigate",n)}}),[e]),null},ee=function(e){var n=e.children,t=e.value,a=e.styles,o=e.shadowRoot,l=e.dispatchEvent,c=(0,I.useMemo)((function(){return(0,g.Df)()}),[]),s=function(){var e,n=(0,I.useState)(null===globalThis||void 0===globalThis||null===(e=globalThis.backendaioptions)||void 0===e?void 0:e.get("current_language")),t=(0,r.Z)(n,2),i=t[0],a=t[1],o=(0,F.$G)().i18n;return(0,I.useEffect)((function(){setTimeout((function(){return null===o||void 0===o?void 0:o.changeLanguage(i)}),0),j().locale(i)}),[]),(0,I.useEffect)((function(){var e=function(e){var n,t;a(null===e||void 0===e||null===(n=e.detail)||void 0===n?void 0:n.lang);var i=(null===e||void 0===e||null===(t=e.detail)||void 0===t?void 0:t.lang)||"en";null===o||void 0===o||o.changeLanguage(i),j().locale(i)};return window.addEventListener("langChanged",e),function(){return window.removeEventListener("langChanged",e)}}),[o]),[i]}(),u=(0,r.Z)(s,1)[0],d=(0,p.x)(),v=(0,h.r)().isDarkMode,f=(0,I.useMemo)((function(){return{value:t,dispatchEvent:l,moveTo:function(e,n){l("moveTo",{path:e,params:n})}}}),[t,l]);return(0,Q.jsx)(Q.Fragment,{children:m&&(0,Q.jsx)(B.RelayEnvironmentProvider,{environment:m,children:(0,Q.jsxs)(I.StrictMode,{children:[(0,Q.jsxs)("style",{children:[a,".anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n/* fix: fixed column shadow display outside of a table wrapper */\n.ant-table-wrapper {\n  border-radius: 8px 8px 0 0;\n  overflow: hidden;\n}\n\n/* fix: the tooltip does not appear in the `<Form.Item tooltip={'something'}` when the popup container is a parent node of the trigger node. */\n.ant-form-item-label {\n  overflow: unset !important;\n}\n"]}),(0,Q.jsx)(D.QueryClientProvider,{client:U,children:(0,Q.jsx)($.Provider,{value:o,children:(0,Q.jsx)(K.Provider,{value:f,children:(0,Q.jsx)(x.ZP,{getPopupContainer:function(e){return(null===e||void 0===e?void 0:e.parentNode)||o},locale:"ko"===u?k.Z:Z.Z,theme:(0,i.Z)((0,i.Z)({},v?(0,i.Z)({},d.dark):(0,i.Z)({},d.light)),{},{algorithm:v?b.Z.darkAlgorithm:b.Z.defaultAlgorithm}),children:(0,Q.jsx)(y.Z,{children:(0,Q.jsx)(g.V9,{container:o,cache:c,children:(0,Q.jsx)(I.Suspense,{fallback:"",children:(0,Q.jsx)(H.VK,{children:(0,Q.jsxs)(q.QueryParamProvider,{adapter:G.Q,options:{},children:[(0,Q.jsx)(X,{}),n]})})})})})})})})})]})})})}},18159:function(e,n,t){t.r(n);var i=t(1413),r=t(36459),a=t(77758),o=t(61502),l=t(99277),c=t(83861),s=t(28501),u=t(20558),d=t(70389),v=t(92171),f=t(57054),m=t(41679),p=t(38818),h=(t(4519),t(81748)),g=t(2556),x=d.Z.Text;n.default=function(e){var n,t=Object.assign({},((0,r.Z)(e),e)),d=(0,h.$G)().t,b=(0,o.useWebComponentInfo)(),y=b.value,Z=b.dispatchEvent;try{n=JSON.parse(y||"")}catch(E){n={open:!1,servicePorts:[]}}var k=n,w=k.open,j=k.servicePorts;return(0,g.jsx)(a.Z,(0,i.Z)((0,i.Z)({open:w,onCancel:function(){Z("cancel",null)},centered:!0,title:d("environment.ManageApps")},t),{},{footer:[(0,g.jsxs)(l.Z,{direction:"row",justify:"between",children:[(0,g.jsx)(v.ZP,{type:"text",danger:!0,children:d("button.Reset")}),(0,g.jsx)(v.ZP,{type:"primary",icon:(0,g.jsx)(c.Z,{}),children:d("button.Save")})]})],children:(0,g.jsx)(f.Z,{initialValues:{apps:j},onFinish:function(e){console.log("Saved settings. ",e)},autoComplete:"off",children:(0,g.jsxs)(l.Z,{direction:"column",gap:"xs",children:[(0,g.jsxs)(m.Z.Compact,{block:!0,children:[(0,g.jsx)(x,{style:{width:"30%"},children:d("environment.AppName")}),(0,g.jsx)(x,{style:{width:"30%"},children:d("environment.Protocol")}),(0,g.jsx)(x,{style:{width:"30%"},children:d("environment.Port")}),(0,g.jsx)(x,{style:{width:"10%",textAlign:"center"}})]}),(0,g.jsx)(f.Z.List,{name:"apps",children:function(e,n){var t=n.add,r=n.remove;return(0,g.jsxs)(l.Z,{direction:"column",gap:"sm",children:[e.map((function(e){return(0,g.jsxs)(l.Z,{direction:"row",gap:"xs",children:[(0,g.jsxs)(m.Z.Compact,{block:!0,children:[(0,g.jsx)(f.Z.Item,(0,i.Z)((0,i.Z)({},e),{},{name:[e.name,"app"],rules:[{required:!0,message:d("environment.AppNameMustNotBeEmpty")}],noStyle:!0,children:(0,g.jsx)(p.Z,{})})),(0,g.jsx)(f.Z.Item,(0,i.Z)((0,i.Z)({},e),{},{name:[e.name,"protocol"],noStyle:!0,children:(0,g.jsx)(p.Z,{})})),(0,g.jsx)(f.Z.Item,(0,i.Z)((0,i.Z)({},e),{},{name:[e.name,"port"],noStyle:!0,children:(0,g.jsx)(p.Z,{})}))]},e.key),(0,g.jsx)(v.ZP,{type:"text",onClick:function(){return r(e.name)},style:{width:"10%"},icon:(0,g.jsx)(s.Z,{})})]})})),(0,g.jsx)(v.ZP,{type:"dashed",onClick:function(){return t()},block:!0,icon:(0,g.jsx)(u.Z,{}),children:d("button.Add")})]})}})]})})}))}},21232:function(e,n,t){t.d(n,{r:function(){return l}});var i=t(29439),r=t(67873),a=t(4519),o=function(e,n){var t=(0,r.Z)(e,{defaultValue:n}),o=(0,i.Z)(t,2),l=o[0],c=o[1],s="useLocalStorageGlobalState:"+e;return(0,a.useEffect)((function(){var e=function(e){c(e.detail)};return document.addEventListener(s,e),function(){return document.removeEventListener(s,e)}}),[c,s]),[l,function(e){document.dispatchEvent(new CustomEvent(s,{detail:e}))}]},l=function(){var e=o("backendaiwebui.settings.themeMode","system"),n=(0,i.Z)(e,2),t=n[0],r=n[1],l=o("backendaiwebui.settings.isDarkMode",window.matchMedia("(prefers-color-scheme: dark)").matches),c=(0,i.Z)(l,2),s=(c[0],c[1]);return(0,a.useEffect)((function(){if("system"===t){var e=window.matchMedia("(prefers-color-scheme: dark)");s(e.matches);var n=function(e){s(e.matches)};return e.addEventListener("change",n),function(){return e.removeEventListener("change",n)}}s("dark"===t)}),[t,s]),{themeMode:t,isDarkMode:!1,setThemeMode:function(e){r(e)}}}},28501:function(e,n,t){t.d(n,{Z:function(){return c}});var i=t(87462),r=t(4519),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},o=t(9491),l=function(e,n){return r.createElement(o.Z,(0,i.Z)({},e,{ref:n,icon:a}))};var c=r.forwardRef(l)},41679:function(e,n,t){t.d(n,{Z:function(){return y}});var i=t(4942),r=t(29439),a=t(4519),o=t(43270),l=t.n(o),c=t(95882);function s(e){return["small","middle","large"].includes(e)}function u(e){return!!e&&("number"===typeof e&&!Number.isNaN(e))}var d=t(48698),v=t(42746),f=a.createContext({latestIndex:0}),m=f.Provider,p=function(e){var n=e.className,t=e.index,i=e.children,r=e.split,o=e.style,l=a.useContext(f).latestIndex;return null===i||void 0===i?null:a.createElement(a.Fragment,null,a.createElement("div",{className:n,style:o},i),t<l&&r&&a.createElement("span",{className:"".concat(n,"-split")},r))},h=t(83522),g=function(e,n){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(t[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)n.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(t[i[r]]=e[i[r]])}return t},x=a.forwardRef((function(e,n){var t,o,v,f=a.useContext(d.E_),x=f.getPrefixCls,b=f.space,y=f.direction,Z=e.size,k=void 0===Z?(null===b||void 0===b?void 0:b.size)||"small":Z,w=e.align,j=e.className,E=e.rootClassName,C=e.children,S=e.direction,P=void 0===S?"horizontal":S,N=e.prefixCls,O=e.split,L=e.style,M=e.wrap,T=void 0!==M&&M,V=e.classNames,R=e.styles,_=g(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),A=Array.isArray(k)?k:[k,k],z=(0,r.Z)(A,2),I=z[0],F=z[1],D=s(F),B=s(I),H=u(F),W=u(I),q=(0,c.Z)(C,{keepEmpty:!0}),G=void 0===w&&"horizontal"===P?"center":w,Q=x("space",N),K=(0,h.Z)(Q),$=(0,r.Z)(K,2),J=$[0],Y=$[1],U=l()(Q,null===b||void 0===b?void 0:b.className,Y,"".concat(Q,"-").concat(P),(t={},(0,i.Z)(t,"".concat(Q,"-rtl"),"rtl"===y),(0,i.Z)(t,"".concat(Q,"-align-").concat(G),G),(0,i.Z)(t,"".concat(Q,"-gap-row-").concat(F),D),(0,i.Z)(t,"".concat(Q,"-gap-col-").concat(I),B),t),j,E),X=l()("".concat(Q,"-item"),null!==(o=null===V||void 0===V?void 0:V.item)&&void 0!==o?o:null===(v=null===b||void 0===b?void 0:b.classNames)||void 0===v?void 0:v.item),ee=0,ne=q.map((function(e,n){var t,i;null!==e&&void 0!==e&&(ee=n);var r=e&&e.key||"".concat(X,"-").concat(n);return a.createElement(p,{className:X,key:r,index:n,split:O,style:null!==(t=null===R||void 0===R?void 0:R.item)&&void 0!==t?t:null===(i=null===b||void 0===b?void 0:b.styles)||void 0===i?void 0:i.item},e)})),te=a.useMemo((function(){return{latestIndex:ee}}),[ee]);if(0===q.length)return null;var ie={};return T&&(ie.flexWrap="wrap"),!B&&W&&(ie.columnGap=I),!D&&H&&(ie.rowGap=F),J(a.createElement("div",Object.assign({ref:n,className:U,style:Object.assign(Object.assign(Object.assign({},ie),null===b||void 0===b?void 0:b.style),L)},_),a.createElement(m,{value:te},ne)))}));var b=x;b.Compact=v.ZP;var y=b}}]);
//# sourceMappingURL=159.cfac52d1.chunk.js.map