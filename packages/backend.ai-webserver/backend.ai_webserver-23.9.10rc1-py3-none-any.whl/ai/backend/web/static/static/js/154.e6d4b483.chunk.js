"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[154],{88630:function(e,n,i){var t,l=i(87760),r=i(56713),a=i(44036),o=i(227),s=i(92171),u=(i(4519),i(81748)),d=i(16980),c=i(2556);n.Z=function(e){var n=e.endpointFrgmt,m=(0,u.$G)().t,g=a.Z.useToken().token,v=(0,l.Dj)(),f=(0,d.useFragment)(void 0!==t?t:t=i(76480),n);return v.supports("model-serving-endpoint-user-info")?(null===f||void 0===f?void 0:f.created_user_email)===(null===f||void 0===f?void 0:f.session_owner_email)?(null===f||void 0===f?void 0:f.session_owner_email)||"":(0,c.jsxs)(c.Fragment,{children:[(null===f||void 0===f?void 0:f.session_owner_email)||"",(0,c.jsx)(o.Z,{title:m("modelService.ServiceDelegatedFrom",{createdUser:(null===f||void 0===f?void 0:f.created_user_email)||"",sessionOwner:(null===f||void 0===f?void 0:f.session_owner_email)||""}),children:(0,c.jsx)(s.ZP,{size:"small",type:"text",icon:(0,c.jsx)(r.Z,{}),style:{color:g.colorTextSecondary}})})]}):v.email||""}},96451:function(e,n,i){var t,l=i(82548),r=(i(4519),i(16980)),a=i(2556);n.Z=function(e){var n,o=e.endpointFrgmt,s=(0,r.useFragment)(void 0!==t?t:t=i(58393),o),u="default";switch(null===s||void 0===s||null===(n=s.status)||void 0===n?void 0:n.toUpperCase()){case"RUNNING":case"HEALTHY":u="success"}return(0,a.jsx)(l.Z,{color:u,children:null===s||void 0===s?void 0:s.status})}},76587:function(e,n,i){var t,l=i(1413),r=i(29439),a=i(44925),o=i(43255),s=i(87760),u=i(50164),d=i(77758),c=i(99277),m=i(44036),g=i(57054),v=i(66653),f=(i(4519),i(81748)),p=i(16980),y=i(2556),h=["onRequestClose","endpointFrgmt"];n.Z=function(e){var n=e.onRequestClose,S=e.endpointFrgmt,Z=(0,a.Z)(e,h),_=m.Z.useToken().token,k=(0,s.Dj)(),x=(0,f.$G)().t,b=g.Z.useForm(),j=(0,r.Z)(b,1)[0],F=(0,p.useFragment)(void 0!==t?t:t=i(56326),S),C=(0,u.Y)({mutationFn:function(e){var n={to:e.desired_session_count};return(0,o.Lc)({method:"POST",url:"/services/".concat(null===F||void 0===F?void 0:F.endpoint_id,"/scale"),body:n,client:k})}});return(0,y.jsx)(d.Z,(0,l.Z)((0,l.Z)({style:{zIndex:1e4},destroyOnClose:!0,onOk:function(e){j.validateFields().then((function(e){C.mutate(e,{onSuccess:function(){console.log("service updated"),n(!0)},onError:function(e){console.log(e)}})})).catch((function(e){console.log(e)}))},onCancel:function(){n()},okButtonProps:{loading:C.isLoading},title:x("modelService.EditModelService")},Z),{},{children:(0,y.jsx)(c.Z,{direction:"row",align:"stretch",justify:"around",children:(0,y.jsx)(g.Z,{form:j,preserve:!1,validateTrigger:["onChange","onBlur"],initialValues:{desired_session_count:null===F||void 0===F?void 0:F.desired_session_count},style:{marginBottom:_.marginLG,marginTop:_.margin},children:(0,y.jsx)(g.Z.Item,{name:"desired_session_count",label:x("modelService.DesiredSessionCount"),rules:[{pattern:/^[0-9]+$/,message:x("modelService.OnlyAllowsNonNegativeIntegers")}],children:(0,y.jsx)(v.Z,{type:"number",min:0})})})})}))}},43306:function(e,n,i){var t=i(1413),l=i(29439),r=i(44925),a=i(77758),o=i(7517),s=i(57054),u=i(44036),d=i(38818),c=i(14634),m=i(32048),g=i.n(m),v=i(4519),f=i(81748),p=i(2556),y=["open","onRequestClose","columns","displayedColumnKeys"];n.Z=function(e){var n=e.open,i=e.onRequestClose,m=e.columns,h=e.displayedColumnKeys,S=(0,r.Z)(e,y),Z=s.Z.useForm(),_=(0,l.Z)(Z,1)[0],k=(0,f.$G)().t,x=u.Z.useToken().token,b=m.map((function(e){return"string"===typeof e.title?{label:e.title,value:g().toString(e.key)}:"object"===typeof e.title&&"props"in e.title?{label:(n=e.title,v.Children.map(n.props.children,(function(e){if("string"===typeof e)return e}))),value:g().toString(e.key)}:{label:void 0,value:g().toString(e.key)};var n}));return(0,p.jsx)(a.Z,(0,t.Z)((0,t.Z)({title:k("table.SettingTable"),open:n,destroyOnClose:!0,centered:!0,onOk:function(){_.validateFields().then((function(e){i(e)})).catch((function(){}))},onCancel:function(){i()}},S),{},{children:(0,p.jsxs)(s.Z,{form:_,preserve:!1,initialValues:{selectedColumnKeys:h||b.map((function(e){return e.value}))},layout:"vertical",children:[(0,p.jsx)(s.Z.Item,{name:"searchInput",label:k("table.SelectColumnToDisplay"),style:{marginBottom:0},children:(0,p.jsx)(d.Z,{prefix:(0,p.jsx)(o.Z,{}),style:{marginBottom:x.marginSM},placeholder:k("table.SearchTableColumn")})}),(0,p.jsx)(s.Z.Item,{noStyle:!0,shouldUpdate:function(e,n){return e.searchInput!==n.searchInput},children:function(e){var n=e.getFieldValue,i=n("searchInput")?g().toLower(n("searchInput")):void 0,l=b.map((function(e){return g().toLower(g().toString(e.label)).includes(i||"")?e:(0,t.Z)((0,t.Z)({},e),{},{style:{display:"none"}})}));return(0,p.jsx)(s.Z.Item,{name:"selectedColumnKeys",style:{height:220,overflowY:"auto"},children:(0,p.jsx)(c.Z.Group,{options:l,style:{flexDirection:"column"}})})}})]})}))}},76480:function(e,n,i){i.r(n);var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"EndpointOwnerInfoFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_user_email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"session_owner_email",storageKey:null}],type:"Endpoint",abstractKey:null,hash:"fb21a441c8873205b5092ae1a5a7157e"};n.default=t},58393:function(e,n,i){i.r(n);var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"EndpointStatusTagFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],type:"Endpoint",abstractKey:null,hash:"3b31efa50b55edddcb210b59003dc479"};n.default=t},56326:function(e,n,i){i.r(n);var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ModelServiceSettingModal_endpoint",selections:[{alias:null,args:null,kind:"ScalarField",name:"endpoint_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"desired_session_count",storageKey:null}],type:"Endpoint",abstractKey:null,hash:"881f18324b27eba6ff0fcfb83ae241d2"};n.default=t},79154:function(e,n,i){i.r(n),i.d(n,{default:function(){return re}});var t=i(93433),l=i(29439),r=i(77758),a=i(88630),o=i(96451),s=i(99277),u=i(76587),d=i(4942),c=i(1413),m=i(44925),g=i(92850),v=i(43255),f=i(87760),p=i(50164),y=i(46228),h=i(15008),S=i(61815),Z=i(57054),_=i(31603),k=i(66653),x=i(4519),b=i(2556),j=["name","min","max","step","rules","required","inputNumberProps","sliderProps","initialValue","disabled"],F=function(e){var n=e.name,i=e.min,t=e.max,l=e.step,r=e.rules,a=e.required,o=e.inputNumberProps,u=e.sliderProps,d=e.initialValue,g=e.disabled,v=(0,m.Z)(e,j),f=Z.Z.useFormInstance();return(0,x.useEffect)((function(){1===l&&f.getFieldValue(n)%1!==0&&f.setFieldValue(n,Math.round(f.getFieldValue(n)))}),[l,f,n]),(0,b.jsx)(Z.Z.Item,(0,c.Z)((0,c.Z)({required:a},v),{},{children:(0,b.jsxs)(s.Z,{direction:"row",gap:"md",children:[(0,b.jsx)(s.Z,{direction:"column",align:"stretch",style:{flex:3},children:(0,b.jsx)(Z.Z.Item,{name:n,noStyle:!0,rules:r,initialValue:d,label:v.label,children:(0,b.jsx)(_.Z,(0,c.Z)({max:t,min:i,step:l,disabled:g},u))})}),(0,b.jsx)(s.Z,{style:{flex:2,minWidth:130},align:"stretch",direction:"column",children:(0,b.jsx)(Z.Z.Item,{name:n,noStyle:!0,rules:r,initialValue:d,label:v.label,children:(0,b.jsx)(k.Z,(0,c.Z)({max:t,min:i,step:l,onStep:function(e,n){console.log(e,n)},disabled:g},o))})})]})}))},C=i(19427),K=i(32048),T=i.n(K),w=["filter","autoSelectDefault"],L=function(e){var n,i,t=e.filter,r=e.autoSelectDefault,a=(0,m.Z)(e,w),o=(0,f.qh)(),s=(0,v.y3)(),u=(0,f.Kr)("first"),d=(0,l.Z)(u,2),g=d[0],y=d[1],h=(0,p.h)({queryKey:["VFolderSelectQuery",g],queryFn:function(){return s({method:"GET",url:"/folders?group_id=".concat(o.id)})},staleTime:0}).data,S=t?T().filter(h,t):h,Z=T().first(S)?{label:null===(n=T().first(S))||void 0===n?void 0:n.name,value:null===(i=T().first(S))||void 0===i?void 0:i.name}:void 0;return(0,x.useEffect)((function(){var e;r&&Z&&(null===(e=a.onChange)||void 0===e||e.call(a,Z.value,Z))}),[r]),(0,b.jsx)(C.Z,(0,c.Z)((0,c.Z)({showSearch:!0},a),{},{onDropdownVisibleChange:function(e){e&&(0,x.startTransition)((function(){y()}))},children:T().map(S,(function(e){return(0,b.jsx)(C.Z.Option,{value:null===e||void 0===e?void 0:e.name,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))}))},I=i(44036),E=i(88464),D=i(38818),P=i(62708),R=i(53066),q=i(81748),N=["extraP","onRequestClose"],M=function(e){e.extraP;var n=e.onRequestClose,i=(0,m.Z)(e,N),t=(0,q.$G)().t,a=I.Z.useToken().token,o=(0,f.Dj)(),s=(0,f.tQ)(),u=Z.Z.useForm(),_=(0,l.Z)(u,1)[0],k=(0,p.Y)({mutationFn:function(e){var n,i,t,l,r,a=o._config.allow_manual_image_name_for_session&&null!==(n=e.environments)&&void 0!==n&&n.manual&&!T().isEmpty(e.environments.manual)?e.environments.manual:"".concat(null===(i=e.environments.image)||void 0===i?void 0:i.registry,"/").concat(null===(t=e.environments.image)||void 0===t?void 0:t.name,":").concat(null===(l=e.environments.image)||void 0===l?void 0:l.tag),u={name:e.serviceName,desired_session_count:e.desiredRoutingCount,image:a,arch:null===(r=e.environments.image)||void 0===r?void 0:r.architecture,group:o.current_group,domain:s,cluster_size:e.cluster_size,cluster_mode:e.cluster_mode,open_to_public:e.openToPublic,config:{model:e.vFolderName,model_mount_destination:"/models",environ:{},scaling_group:e.resourceGroup,resources:(0,c.Z)({cpu:e.resource.cpu.toString(),mem:e.resource.mem},e.resource.accelerator>0?(0,d.Z)({},e.resource.acceleratorType,e.resource.accelerator):void 0),resource_opts:{shmem:(0,v.p)(e.resource.mem,"4g")>0&&(0,v.p)(e.resource.shmem,"1g")<0?"1g":e.resource.shmem}}};return(0,v.Lc)({method:"POST",url:"/services",body:u,client:o})}});return(0,b.jsx)(r.Z,(0,c.Z)((0,c.Z)({title:t("modelService.StartNewServing"),onOk:function(){_.validateFields().then((function(e){k.mutate(e,{onSuccess:function(){n(!0)},onError:function(e){null!==e&&void 0!==e&&e.message?E.ZP.error(T().truncate(null===e||void 0===e?void 0:e.message,{length:200})):E.ZP.error(t("modelService.FailedToStartService"))}})})).catch((function(e){var n,i,l,r;null!==(n=e.errorFields)&&void 0!==n&&null!==(i=n[0].errors)&&void 0!==i&&i[0]?E.ZP.error(null===(l=e.errorFields)||void 0===l||null===(r=l[0].errors)||void 0===r?void 0:r[0]):E.ZP.error(t("modelService.FormValidationFailed"))}))},onCancel:function(){n()},destroyOnClose:!0,maskClosable:!1,confirmLoading:k.isLoading},i),{},{children:(0,b.jsx)(x.Suspense,{fallback:(0,b.jsx)(y.Z,{}),children:(0,b.jsxs)(Z.Z,{disabled:k.isLoading,form:_,preserve:!1,layout:"vertical",labelCol:{span:12},initialValues:(0,c.Z)({desiredRoutingCount:1},g.ds),requiredMark:"optional",children:[(0,b.jsx)(Z.Z.Item,{label:t("modelService.ServiceName"),name:"serviceName",rules:[{pattern:/^(?=.{4,24}$)\w[\w.-]*\w$/,message:t("modelService.ServiceNameRule")},{required:!0}],children:(0,b.jsx)(D.Z,{})}),(0,b.jsx)(Z.Z.Item,{name:"resourceGroup",label:t("session.ResourceGroup"),rules:[{required:!0}],children:(0,b.jsx)(S.Z,{autoSelectDefault:!0})}),(0,b.jsx)(Z.Z.Item,{name:"openToPublic",label:t("modelService.OpenToPublic"),valuePropName:"checked",children:(0,b.jsx)(P.Z,{})}),(0,b.jsx)(Z.Z.Item,{name:"vFolderName",label:t("session.launcher.ModelStorageToMount"),rules:[{required:!0}],children:(0,b.jsx)(L,{filter:function(e){return"model"===e.usage_mode},autoSelectDefault:!0})}),(0,b.jsx)(F,{label:t("modelService.DesiredRoutingCount"),name:"desiredRoutingCount",rules:[{required:!0}],inputNumberProps:{addonAfter:"#"},required:!0}),(0,b.jsxs)(R.Z,{style:{marginBottom:a.margin},children:[(0,b.jsx)(h.Z,{}),(0,b.jsx)(g.ZP,{})]})]})})}))},O=i(43306),V=i(43596),A=i(28501),z=i(83861),$=i(31662),B=i(46951),G=i(69537);var H=function(e){if(e.id,"undefined"===typeof cancelAnimationFrame)return clearInterval(e.id);cancelAnimationFrame(e.id)};var Q,Y=function(e,n,i){var t=null===i||void 0===i?void 0:i.immediate,l=(0,B.Z)(e),r=(0,x.useRef)();return(0,x.useEffect)((function(){if((0,G.hj)(n)&&!(n<0))return t&&l.current(),r.current=function(e,n){if(void 0===n&&(n=0),"undefined"===typeof requestAnimationFrame)return{id:setInterval(e,n)};var i=(new Date).getTime(),t={id:0};return t.id=requestAnimationFrame((function l(){(new Date).getTime()-i>=n&&(e(),i=(new Date).getTime()),t.id=requestAnimationFrame(l)})),t}((function(){l.current()}),n),function(){r.current&&H(r.current)}}),[n]),(0,x.useCallback)((function(){r.current&&H(r.current)}),[])},U=i(67873),W=i(70389),J=i(92171),X=i(45110),ee=i(49248),ne=i(99517),ie=i.n(ne),te=i(16980),le=i(51843),re=function(e){e.children;var n=(0,q.$G)().t,d=(0,f.Dj)(),c=I.Z.useToken().token,m=(0,f.qh)(),g=(0,x.useState)(!1),y=(0,l.Z)(g,2),h=y[0],S=y[1],Z=(0,x.useState)(!1),_=(0,l.Z)(Z,2),k=_[0],j=_[1],F=(0,x.useState)(),C=(0,l.Z)(F,2),K=C[0],w=C[1],L=(0,x.useState)(!1),D=(0,l.Z)(L,2),P=D[0],R=D[1],N=(0,x.useState)({current:1,pageSize:100}),B=(0,l.Z)(N,1)[0],G=(0,x.useTransition)(),H=(0,l.Z)(G,2),ne=H[0],re=H[1],ae=(0,x.useState)(!1),oe=(0,l.Z)(ae,2),se=oe[0],ue=oe[1],de=(0,f.Kr)("initial-fetch"),ce=(0,l.Z)(de,2),me=ce[0],ge=ce[1],ve=(0,x.useState)("services"),fe=(0,l.Z)(ve,2),pe=fe[0],ye=fe[1],he=[{title:n("modelService.EndpointName"),dataIndex:"endpoint_id",key:"endpointName",fixed:"left",render:function(e,n){return(0,b.jsx)(le.rU,{to:"/serving/"+e,children:n.name})}},{title:n("modelService.EndpointId"),dataIndex:"endpoint_id",key:"endpoint_id",width:310,render:function(e){return(0,b.jsx)(W.Z.Text,{code:!0,children:e})}},{title:n("modelService.ServiceEndpoint"),dataIndex:"endpoint_id",key:"url",render:function(e,n){return n.url?(0,b.jsx)(W.Z.Link,{copyable:!0,href:n.url,target:"_blank",children:n.url}):"-"}},{title:n("modelService.Controls"),dataIndex:"controls",key:"controls",render:function(e,n){var i,t,l,r;return(0,b.jsxs)(s.Z,{direction:"row",align:"stretch",children:[(0,b.jsx)(J.ZP,{type:"text",icon:(0,b.jsx)(V.Z,{}),style:n.desired_session_count<0||"destroying"===(null===(i=n.status)||void 0===i?void 0:i.toLowerCase())?void 0:{color:"#29b6f6"},disabled:n.desired_session_count<0||"destroying"===(null===(t=n.status)||void 0===t?void 0:t.toLowerCase()),onClick:function(){R(!0),w(n)}}),(0,b.jsx)(J.ZP,{type:"text",icon:(0,b.jsx)(A.Z,{style:n.desired_session_count<0||"destroying"===(null===(l=n.status)||void 0===l?void 0:l.toLowerCase())?void 0:{color:c.colorError}}),disabled:n.desired_session_count<0||"destroying"===(null===(r=n.status)||void 0===r?void 0:r.toLowerCase()),onClick:function(){ue(!0),w(n)}})]})}},{title:n("modelService.Status"),key:"status",render:function(e,n){return(0,b.jsx)(o.Z,{endpointFrgmt:n})}}].concat((0,t.Z)(d.is_admin?[{title:n("modelService.Owner"),dataIndex:"created_user_email",key:"session_owner",render:function(e,n){return(0,b.jsx)(a.Z,{endpointFrgmt:n})}}]:[]),[{title:n("modelService.CreatedAt"),dataIndex:"created_at",key:"createdAt",render:function(e){return ie()(e).format("ll LT")},defaultSortOrder:"descend",sortDirections:["descend","ascend","descend"],sorter:function(e,n){var i=ie()(e.created_at),t=ie()(n.created_at);return i.diff(t)}},{title:n("modelService.DesiredSessionCount"),dataIndex:"desired_session_count",key:"desiredSessionCount",render:function(e){return e<0?"-":e}},{title:(0,b.jsxs)(s.Z,{direction:"column",align:"start",children:[n("modelService.RoutingsCount"),(0,b.jsx)("br",{}),(0,b.jsxs)(W.Z.Text,{type:"secondary",style:{fontWeight:"normal"},children:["(",n("modelService.Active/Total"),")"]})]}),key:"routingCount",render:function(e,n){var i;return T().filter(n.routings,(function(e){return"HEALTHY"===(null===e||void 0===e?void 0:e.status)})).length+" / "+(null===(i=n.routings)||void 0===i?void 0:i.length)}},{title:n("modelService.Public"),key:"public",render:function(e,n){return n.open_to_public?(0,b.jsx)(z.Z,{style:{color:c.colorSuccess}}):(0,b.jsx)($.Z,{style:{color:c.colorTextSecondary}})}}]),Se=(0,U.Z)("backendaiwebui.ServingListPage.displayedColumnKeys",{defaultValue:he.map((function(e){return T().toString(e.key)}))}),Ze=(0,l.Z)(Se,2),_e=Ze[0],ke=Ze[1];Y((function(){(0,x.startTransition)((function(){ge()}))}),7e3);var xe=(0,te.useLazyLoadQuery)(void 0!==Q?Q:Q=i(16142),{offset:(B.current-1)*B.pageSize,limit:B.pageSize,projectID:m.id},{fetchPolicy:"initial-fetch"===me?"store-and-network":"network-only",fetchKey:me}).endpoint_list,be=T().sortBy(null===xe||void 0===xe?void 0:xe.items,"name"),je=(0,p.Y)({mutationFn:function(){return(0,v.Lc)({method:"DELETE",url:"/services/"+(null===K||void 0===K?void 0:K.endpoint_id),client:d})}});return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(s.Z,{direction:"column",align:"stretch",style:{padding:c.padding},gap:"xs",children:[(0,b.jsxs)(s.Z,{direction:"column",align:"stretch",children:[(0,b.jsx)(s.Z,{style:{flex:1},children:(0,b.jsx)(X.Z,{activeKey:pe,onChange:function(e){return ye(e)},tabBarStyle:{marginBottom:0},style:{width:"100%",paddingLeft:c.paddingMD,paddingRight:c.paddingMD,borderTopLeftRadius:c.borderRadius,borderTopRightRadius:c.borderRadius},items:[{key:"services",label:n("modelService.Services")}],tabBarExtraContent:{right:(0,b.jsx)(J.ZP,{type:"primary",onClick:function(){S(!0)},children:n("modelService.StartService")})}})}),(0,b.jsx)(x.Suspense,{fallback:(0,b.jsx)("div",{children:"loading.."}),children:(0,b.jsx)(ee.Z,{loading:ne,scroll:{x:"max-content"},rowKey:"endpoint_id",dataSource:be||[],columns:he.filter((function(e){return null===_e||void 0===_e?void 0:_e.includes(T().toString(e.key))})),pagination:!1})})]}),(0,b.jsx)(s.Z,{justify:"end",children:(0,b.jsx)(J.ZP,{type:"text",icon:(0,b.jsx)(V.Z,{}),onClick:function(){j(!0)}})})]}),(0,b.jsx)(r.Z,{open:se,title:n("dialog.title.LetsDouble-Check"),okButtonProps:{loading:je.isLoading},onOk:function(){je.mutate(void 0,{onSuccess:function(e){re((function(){ge()})),ue(!1)},onError:function(e){null!==e&&void 0!==e&&e.message?E.ZP.error(T().truncate(null===e||void 0===e?void 0:e.message,{length:200})):E.ZP.error(n("modelService.FailedToTerminateService"))}})},onCancel:function(){ue(!1)},children:(0,b.jsxs)(s.Z,{direction:"column",align:"stretch",justify:"center",children:[(0,b.jsx)("p",{children:n("modelService.YouAreAboutToTerminate")+((null===K||void 0===K?void 0:K.name)||"")+"."}),(0,b.jsx)("p",{children:n("dialog.ask.DoYouWantToProceed")})]})}),(0,b.jsx)(u.Z,{open:P,onRequestClose:function(e){R(!1),e&&re((function(){ge()}))},endpointFrgmt:K||null}),(0,b.jsx)(M,{open:h,onRequestClose:function(e){S(!h),e&&re((function(){ge()}))}}),(0,b.jsx)(O.Z,{open:k,onRequestClose:function(e){(null===e||void 0===e?void 0:e.selectedColumnKeys)&&ke(null===e||void 0===e?void 0:e.selectedColumnKeys),j(!1)},columns:he,displayedColumnKeys:_e||[]})]})}},16142:function(e,n,i){i.r(n);var t=function(){var e={defaultValue:null,kind:"LocalArgument",name:"limit"},n={defaultValue:null,kind:"LocalArgument",name:"offset"},i={defaultValue:null,kind:"LocalArgument",name:"projectID"},t=[{kind:"Literal",name:"filter",value:"name != 'koalpaca-test'"},{kind:"Variable",name:"limit",variableName:"limit"},{kind:"Variable",name:"offset",variableName:"offset"},{kind:"Variable",name:"project",variableName:"projectID"}],l={alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"endpoint_id",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"image",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"model",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"project",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"resource_group",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"resource_slots",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"open_to_public",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"desired_session_count",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"routing_id",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"endpoint",storageKey:null},Z={alias:null,args:null,kind:"ScalarField",name:"session",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"traffic_ratio",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[e,n,i],kind:"Fragment",metadata:null,name:"ServingListPageQuery",selections:[{alias:null,args:t,concreteType:"EndpointList",kind:"LinkedField",name:"endpoint_list",plural:!1,selections:[l,{alias:null,args:null,concreteType:"Endpoint",kind:"LinkedField",name:"items",plural:!0,selections:[r,a,o,s,u,d,c,m,g,v,f,p,{kind:"RequiredField",field:y,action:"NONE",path:"endpoint_list.items.desired_session_count"},{alias:null,args:null,concreteType:"Routing",kind:"LinkedField",name:"routings",plural:!0,selections:[h,S,Z,_,d],storageKey:null},{args:null,kind:"FragmentSpread",name:"ModelServiceSettingModal_endpoint"},{args:null,kind:"FragmentSpread",name:"EndpointOwnerInfoFragment"},{args:null,kind:"FragmentSpread",name:"EndpointStatusTagFragment"}],storageKey:null}],storageKey:null}],type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,e,i],kind:"Operation",name:"ServingListPageQuery",selections:[{alias:null,args:t,concreteType:"EndpointList",kind:"LinkedField",name:"endpoint_list",plural:!1,selections:[l,{alias:null,args:null,concreteType:"Endpoint",kind:"LinkedField",name:"items",plural:!0,selections:[r,a,o,s,u,d,c,m,g,v,f,p,y,{alias:null,args:null,concreteType:"Routing",kind:"LinkedField",name:"routings",plural:!0,selections:[h,S,Z,_,d,k],storageKey:null},k,{alias:null,args:null,kind:"ScalarField",name:"created_user_email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"session_owner_email",storageKey:null}],storageKey:null}],storageKey:null}]},params:{cacheID:"a32fc5e73f28ab586299252b57c894a1",id:null,metadata:{},name:"ServingListPageQuery",operationKind:"query",text:'query ServingListPageQuery(\n  $offset: Int!\n  $limit: Int!\n  $projectID: UUID\n) {\n  endpoint_list(offset: $offset, limit: $limit, project: $projectID, filter: "name != \'koalpaca-test\'") {\n    total_count\n    items {\n      name\n      endpoint_id\n      image\n      model\n      domain\n      status\n      project\n      resource_group\n      resource_slots\n      url\n      open_to_public\n      created_at @since(version: "23.09.0")\n      desired_session_count\n      routings {\n        routing_id\n        endpoint\n        session\n        traffic_ratio\n        status\n        id\n      }\n      ...ModelServiceSettingModal_endpoint\n      ...EndpointOwnerInfoFragment\n      ...EndpointStatusTagFragment\n      id\n    }\n  }\n}\n\nfragment EndpointOwnerInfoFragment on Endpoint {\n  id\n  created_user_email @since(version: "23.09.8")\n  session_owner_email @since(version: "23.09.8")\n}\n\nfragment EndpointStatusTagFragment on Endpoint {\n  id\n  status\n}\n\nfragment ModelServiceSettingModal_endpoint on Endpoint {\n  endpoint_id\n  desired_session_count\n}\n'}}}();t.hash="0d8ae07e41b0bc9e87961c234e67fdaf",n.default=t},28501:function(e,n,i){i.d(n,{Z:function(){return s}});var t=i(87462),l=i(4519),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},a=i(9491),o=function(e,n){return l.createElement(a.Z,(0,t.Z)({},e,{ref:n,icon:r}))};var s=l.forwardRef(o)},43596:function(e,n,i){i.d(n,{Z:function(){return s}});var t=i(87462),l=i(4519),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"},a=i(9491),o=function(e,n){return l.createElement(a.Z,(0,t.Z)({},e,{ref:n,icon:r}))};var s=l.forwardRef(o)}}]);
//# sourceMappingURL=154.e6d4b483.chunk.js.map