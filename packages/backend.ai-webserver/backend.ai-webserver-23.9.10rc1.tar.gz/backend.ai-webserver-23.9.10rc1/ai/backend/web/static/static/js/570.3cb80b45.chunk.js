"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[570],{66570:function(e,t,n){n.r(t),n.d(t,{default:function(){return q}});var r=n(1413),i=n(29439),l=n(87760),o=n(77758),a=n(99277),s=n(43306),c=n(91278),d=n(7517),u=n(87462),h=n(4519),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"}}]},name:"redo",theme:"outlined"},g=n(9491),m=function(e,t){return h.createElement(g.Z,(0,u.Z)({},e,{ref:t,icon:f}))};var p=h.forwardRef(m),x=n(28501),y=n(32064),Z=n(43596),v=n(67873),j=n(44036),k=n(70389),w=n(38818),C=n(14634),S=n(92171),b=n(49248),T=n(52176),I=n(99517),M=n.n(I),L=n(32048),R=n.n(L),E=n(81748),z=n(2556),q=function(){var e=(0,E.$G)().t,t=j.Z.useToken().token,n=(0,h.useState)(!1),u=(0,i.Z)(n,2),f=u[0],g=u[1],m=(0,h.useState)(!1),I=(0,i.Z)(m,2),L=I[0],q=I[1],K=(0,h.useState)(!1),U=(0,i.Z)(K,2),W=U[0],B=U[1],P=(0,h.useState)(""),H=(0,i.Z)(P,2),_=H[0],O=H[1],D=(0,l.Kr)("first"),F=(0,i.Z)(D,2),V=F[0],A=F[1],G=(0,h.useTransition)(),$=(0,i.Z)(G,2),J=$[0],N=$[1],X=(0,h.useTransition)(),Y=(0,i.Z)(X,2),Q=Y[0],ee=Y[1],te=[{title:e("logs.TimeStamp"),dataIndex:"formattedTimeStamp",key:"timeStamp",render:function(e){return(0,z.jsx)("div",{style:{minWidth:50},children:R().isUndefined(e)?"-":(0,z.jsx)(c.Z,{keyword:_,children:e})})},fixed:"left"},{title:e("logs.Status"),dataIndex:"statusCode",key:"status",render:function(e,t){return(0,z.jsx)("div",{style:{minWidth:50},children:R().isUndefined(e)?"-":(0,z.jsx)(c.Z,{keyword:_,children:e+" "+t.statusText})})}},{title:e("logs.ErrorTitle"),dataIndex:"title",key:"errorTitle",render:function(e){return(0,z.jsx)("div",{style:{minWidth:50},children:e?(0,z.jsx)(c.Z,{keyword:_,children:R().toString(e)}):"-"})}},{title:e("logs.ErrorMessage"),dataIndex:"message",key:"errorMessage",render:function(e){return(0,z.jsx)("div",{style:{minWidth:70},children:e?(0,z.jsx)(c.Z,{keyword:_,children:e}):"-"})}},{title:e("logs.ErrorType"),dataIndex:"type",key:"errorType",render:function(e){return(0,z.jsx)("div",{style:{minWidth:60},children:e?(0,z.jsx)(c.Z,{keyword:_,children:e}):"-"})}},{title:e("logs.Method"),dataIndex:"requestMethod",key:"method",render:function(e){return(0,z.jsx)("div",{style:{minWidth:60},children:e?(0,z.jsx)(c.Z,{keyword:_,children:e}):"-"})}},{title:e("logs.RequestUrl"),dataIndex:"requestUrl",key:"requestUrl",render:function(e){return(0,z.jsx)("div",{style:{minWidth:60},children:e?(0,z.jsx)(c.Z,{keyword:_,children:e}):"-"})}},{title:e("logs.Parameters"),dataIndex:"requestParameters",key:"requestParameter",render:function(e){return(0,z.jsx)("div",{style:{minWidth:100},children:e?(0,z.jsx)(c.Z,{keyword:_,children:e}):"-"})}}],ne=(0,v.Z)("backendaiwebui.ErrorLogList.displayedColumnKeys",{defaultValue:te.map((function(e){return R().toString(e.key)}))}),re=(0,i.Z)(ne,2),ie=re[0],le=re[1],oe=(0,h.useMemo)((function(){var e=JSON.parse(localStorage.getItem("backendaiwebui.logs")||"[]");return R().map(e,(function(e){return(0,r.Z)((0,r.Z)({},e),{},{formattedTimeStamp:M()(e.timestamp).format("lll")})}))}),[V]),ae=(0,h.useMemo)((function(){var e=new RegExp("".concat(R().escapeRegExp(_)),"i");return R().filter(oe,(function(t){return!_||!!R().find(t,(function(t,n){return"timestamp"!==n&&R().toString(t).match(e)}))}))}),[_,oe]);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(a.Z,{direction:"column",align:"stretch",children:[(0,z.jsxs)(a.Z,{direction:"row",justify:"between",wrap:"wrap",gap:"xs",style:{padding:t.paddingContentVertical,paddingLeft:t.paddingContentHorizontalSM,paddingRight:t.paddingContentHorizontalSM},children:[(0,z.jsxs)(a.Z,{direction:"column",align:"start",children:[(0,z.jsx)(k.Z.Title,{level:4,style:{margin:0,padding:0},children:e("logs.LogMessages")}),(0,z.jsx)(k.Z.Text,{type:"secondary",children:e("logs.UpTo3000Logs")})]}),(0,z.jsxs)(a.Z,{direction:"row",gap:"xs",wrap:"wrap",style:{flexShrink:1},children:[(0,z.jsxs)(a.Z,{gap:"xs",children:[(0,z.jsx)(w.Z,{allowClear:!0,prefix:(0,z.jsx)(d.Z,{}),placeholder:e("logs.SearchLogs"),onChange:function(e){ee((function(){return O(e.target.value)}))},style:{width:200}}),(0,z.jsx)(C.Z,{onChange:function(e){return B(e.target.checked)},children:e("logs.ShowOnlyError")})]}),(0,z.jsxs)(a.Z,{gap:"xs",children:[(0,z.jsx)(S.ZP,{icon:(0,z.jsx)(p,{}),loading:J,onClick:function(){N((function(){return A()}))},children:e("button.Refresh")}),(0,z.jsx)(S.ZP,{danger:!0,icon:(0,z.jsx)(x.Z,{}),onClick:function(){g(!0)},children:e("button.ClearLogs")})]})]})]}),(0,z.jsx)(b.Z,{pagination:{showSizeChanger:!1},loading:!!Q&&{indicator:(0,z.jsx)(y.Z,{})},scroll:{x:"max-content",y:"calc(100vh - 430px)"},dataSource:W?R().filter(ae,(function(e){return e.isError})):ae,columns:te.filter((function(e){return null===ie||void 0===ie?void 0:ie.includes(R().toString(e.key))})),onRow:function(e){return{style:{color:e.isError?"red":""}}}})]}),(0,z.jsx)(a.Z,{justify:"end",style:{paddingRight:t.paddingXS},children:(0,z.jsx)(S.ZP,{type:"text",icon:(0,z.jsx)(Z.Z,{}),onClick:function(){q(!0)}})}),(0,z.jsx)(o.Z,{open:f,title:e("dialog.warning.LogDeletion"),okText:e("button.Delete"),okButtonProps:{danger:!0},onOk:function(){localStorage.removeItem("backendaiwebui.logs"),A(),g(!1)},cancelText:e("button.Cancel"),onCancel:function(){return g(!1)},children:(0,z.jsx)(T.Z,{message:e("dialog.warning.CannotBeUndone"),type:"warning"})}),(0,z.jsx)(s.Z,{open:L,onRequestClose:function(e){(null===e||void 0===e?void 0:e.selectedColumnKeys)&&le(null===e||void 0===e?void 0:e.selectedColumnKeys),q(!1)},columns:te,displayedColumnKeys:ie||[]})]})}},43306:function(e,t,n){var r=n(1413),i=n(29439),l=n(44925),o=n(77758),a=n(7517),s=n(57054),c=n(44036),d=n(38818),u=n(14634),h=n(32048),f=n.n(h),g=n(4519),m=n(81748),p=n(2556),x=["open","onRequestClose","columns","displayedColumnKeys"];t.Z=function(e){var t=e.open,n=e.onRequestClose,h=e.columns,y=e.displayedColumnKeys,Z=(0,l.Z)(e,x),v=s.Z.useForm(),j=(0,i.Z)(v,1)[0],k=(0,m.$G)().t,w=c.Z.useToken().token,C=h.map((function(e){return"string"===typeof e.title?{label:e.title,value:f().toString(e.key)}:"object"===typeof e.title&&"props"in e.title?{label:(t=e.title,g.Children.map(t.props.children,(function(e){if("string"===typeof e)return e}))),value:f().toString(e.key)}:{label:void 0,value:f().toString(e.key)};var t}));return(0,p.jsx)(o.Z,(0,r.Z)((0,r.Z)({title:k("table.SettingTable"),open:t,destroyOnClose:!0,centered:!0,onOk:function(){j.validateFields().then((function(e){n(e)})).catch((function(){}))},onCancel:function(){n()}},Z),{},{children:(0,p.jsxs)(s.Z,{form:j,preserve:!1,initialValues:{selectedColumnKeys:y||C.map((function(e){return e.value}))},layout:"vertical",children:[(0,p.jsx)(s.Z.Item,{name:"searchInput",label:k("table.SelectColumnToDisplay"),style:{marginBottom:0},children:(0,p.jsx)(d.Z,{prefix:(0,p.jsx)(a.Z,{}),style:{marginBottom:w.marginSM},placeholder:k("table.SearchTableColumn")})}),(0,p.jsx)(s.Z.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.searchInput!==t.searchInput},children:function(e){var t=e.getFieldValue,n=t("searchInput")?f().toLower(t("searchInput")):void 0,i=C.map((function(e){return f().toLower(f().toString(e.label)).includes(n||"")?e:(0,r.Z)((0,r.Z)({},e),{},{style:{display:"none"}})}));return(0,p.jsx)(s.Z.Item,{name:"selectedColumnKeys",style:{height:220,overflowY:"auto"},children:(0,p.jsx)(u.Z.Group,{options:i,style:{flexDirection:"column"}})})}})]})}))}},28501:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(87462),i=n(4519),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},o=n(9491),a=function(e,t){return i.createElement(o.Z,(0,r.Z)({},e,{ref:t,icon:l}))};var s=i.forwardRef(a)},43596:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(87462),i=n(4519),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"},o=n(9491),a=function(e,t){return i.createElement(o.Z,(0,r.Z)({},e,{ref:t,icon:l}))};var s=i.forwardRef(a)}}]);
//# sourceMappingURL=570.3cb80b45.chunk.js.map