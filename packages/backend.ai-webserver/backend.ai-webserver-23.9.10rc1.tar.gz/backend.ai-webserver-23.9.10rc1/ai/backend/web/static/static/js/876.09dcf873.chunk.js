"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[876,502],{61502:function(e,n,a){a.r(n),a.d(n,{default:function(){return ee},useShadowRoot:function(){return W},useWebComponentInfo:function(){return X}});var t=a(1413),l=a(29439),i=a(74165),o=a(15861),r=a(24530),s=a(24717),u=a(61724);function d(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,t=(0,r.Qc)(e),l=(0,s.Vn)(t,{Field:{enter:function(e){var t;if(null!==e&&void 0!==e&&null!==(t=e.directives)&&void 0!==t&&t.find((function(e){var t,l,i,o,r=e.name.value,s=null===(t=e.arguments)||void 0===t?void 0:t[0].name.value,u=null===(l=e.arguments)||void 0===l||null===(i=l[0].value)||void 0===i?void 0:i.value,d=null===(o=e.arguments)||void 0===o?void 0:o[0];if("since"===r&&"version"===s){if(a(u))return!0}else if("deprecatedSince"===r&&"version"===s){var c="StringValue"===(null===d||void 0===d?void 0:d.value.kind)?null===d||void 0===d?void 0:d.value.value:n[null===d||void 0===d?void 0:d.value.name.value];if(!a(c))return!0}else if("skipOnClient"===r&&"if"===s){if("BooleanValue"===(null===d||void 0===d?void 0:d.value.kind)&&d.value.value)return!0;if("Variable"===(null===d||void 0===d?void 0:d.value.kind)&&n[d.value.name.value])return!0}return!1})))return null},leave:function(e){var n;if(e.selectionSet&&"SelectionSet"===e.selectionSet.kind&&0===(null===(n=e.selectionSet.selections)||void 0===n?void 0:n.length))return null}},Directive:{leave:function(e){var n=e.name.value;if(["since","deprecatedSince","skipOnClient"].includes(n))return null}}}),i={};return(0,s.Vn)(l,{Variable:function(e){i[e.name.value]=(i[e.name.value]||0)+1}}),l=(0,s.Vn)(l,{VariableDefinition:{enter:function(e){if(i[e.variable.name.value]<=1)return null}}}),(0,u.S)(l)}var c=a(41011);c.RelayFeatureFlags.ENABLE_RELAY_RESOLVERS=!0;var m=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n,a){var t,l,o,r,s,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==globalThis.backendaiclient){e.next=3;break}return e.next=3,new Promise((function(e){document.addEventListener("backend-ai-connected",(function n(){document.removeEventListener("backend-ai-connected",n),e(void 0)}))}));case 3:return o=d(n.text||"",a,(function(e){var n;return!(null!==(n=globalThis.backendaiclient)&&void 0!==n&&n.isManagerVersionCompatibleWith(e))})),r={query:o,variables:a},s=null===(t=globalThis.backendaiclient)||void 0===t?void 0:t.newSignedRequest("POST","/admin/gql",r),e.next=8,null===(l=globalThis.backendaiclient)||void 0===l?void 0:l._wrapWithPromise(s,!1,null,1e4,0).catch((function(e){}));case 8:if(e.t0=e.sent,e.t0){e.next=11;break}e.t0={};case 11:return u=e.t0,e.abrupt("return",u);case 13:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}();var g,p=new c.Environment({network:c.Network.create(m,void 0),store:new c.Store(new c.RecordSource)}),v=a(80382),f=a(21232),y=a(27340),h=a(41239),S=a(44036),_=a(47226),k=a(49883),b=a(66670),x=a(99517),Z=a.n(x),F=(a(24989),a(79354)),j=a.n(F),C=a(79748),q=a.n(C),K=a(51714),Q=a.n(K),P=a(63540),w=a.n(P),E=a(18272),L=a.n(E),V=a(9666),T=a.n(V),D=a(64447),O=a(13881),H=a(4519),I=a(81748),M=a(87112),N=a(16980),R=a(51843),$=a(12674),A=a(55144),U=a(73181),z=a(2556);Z().extend(T()),Z().extend(j()),Z().extend(q()),Z().extend(Q()),Z().extend(L()),Z().extend(w());var B=H.createContext(null),G=H.createContext(null),W=function(){return H.useContext(G)},X=function(){return H.useContext(B)},Y=new M.QueryClient({defaultOptions:{queries:{suspense:!0,refetchOnWindowFocus:!1,retry:!1}}});D.ZP.use(I.Db).use(O.Z).init({backend:{loadPath:"/resources/i18n/{{lng}}.json"},lng:(null===globalThis||void 0===globalThis||null===(g=globalThis.backendaioptions)||void 0===g?void 0:g.get("current_language"))||"en",fallbackLng:"en",interpolation:{escapeValue:!1},react:{transSupportBasicHtmlNodes:!0,transKeepBasicHtmlNodesFor:["br","strong","span","code","p"]}});var J=function(){var e=(0,$.s0)();return(0,H.useLayoutEffect)((function(){var n=function(n){var a=n.detail;e(a,{replace:!0})};return document.addEventListener("react-navigate",n),function(){document.removeEventListener("react-navigate",n)}}),[e]),null},ee=function(e){var n=e.children,a=e.value,i=e.styles,o=e.shadowRoot,r=e.dispatchEvent,s=(0,H.useMemo)((function(){return(0,y.Df)()}),[]),u=function(){var e,n=(0,H.useState)(null===globalThis||void 0===globalThis||null===(e=globalThis.backendaioptions)||void 0===e?void 0:e.get("current_language")),a=(0,l.Z)(n,2),t=a[0],i=a[1],o=(0,I.$G)().i18n;return(0,H.useEffect)((function(){setTimeout((function(){return null===o||void 0===o?void 0:o.changeLanguage(t)}),0),Z().locale(t)}),[]),(0,H.useEffect)((function(){var e=function(e){var n,a;i(null===e||void 0===e||null===(n=e.detail)||void 0===n?void 0:n.lang);var t=(null===e||void 0===e||null===(a=e.detail)||void 0===a?void 0:a.lang)||"en";null===o||void 0===o||o.changeLanguage(t),Z().locale(t)};return window.addEventListener("langChanged",e),function(){return window.removeEventListener("langChanged",e)}}),[o]),[t]}(),d=(0,l.Z)(u,1)[0],c=(0,v.x)(),m=(0,f.r)().isDarkMode,g=(0,H.useMemo)((function(){return{value:a,dispatchEvent:r,moveTo:function(e,n){r("moveTo",{path:e,params:n})}}}),[a,r]);return(0,z.jsx)(z.Fragment,{children:p&&(0,z.jsx)(N.RelayEnvironmentProvider,{environment:p,children:(0,z.jsxs)(H.StrictMode,{children:[(0,z.jsxs)("style",{children:[i,".anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n/* fix: fixed column shadow display outside of a table wrapper */\n.ant-table-wrapper {\n  border-radius: 8px 8px 0 0;\n  overflow: hidden;\n}\n\n/* fix: the tooltip does not appear in the `<Form.Item tooltip={'something'}` when the popup container is a parent node of the trigger node. */\n.ant-form-item-label {\n  overflow: unset !important;\n}\n"]}),(0,z.jsx)(M.QueryClientProvider,{client:Y,children:(0,z.jsx)(G.Provider,{value:o,children:(0,z.jsx)(B.Provider,{value:g,children:(0,z.jsx)(h.ZP,{getPopupContainer:function(e){return(null===e||void 0===e?void 0:e.parentNode)||o},locale:"ko"===d?b.Z:k.Z,theme:(0,t.Z)((0,t.Z)({},m?(0,t.Z)({},c.dark):(0,t.Z)({},c.light)),{},{algorithm:m?S.Z.darkAlgorithm:S.Z.defaultAlgorithm}),children:(0,z.jsx)(_.Z,{children:(0,z.jsx)(y.V9,{container:o,cache:s,children:(0,z.jsx)(H.Suspense,{fallback:"",children:(0,z.jsx)(R.VK,{children:(0,z.jsxs)(A.QueryParamProvider,{adapter:U.Q,options:{},children:[(0,z.jsx)(J,{}),n]})})})})})})})})})]})})})}},33614:function(e,n,a){a.r(n);var t=function(){var e=[{alias:null,args:[{kind:"Literal",name:"is_active",value:!0}],concreteType:"Domain",kind:"LinkedField",name:"domains",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:"domains(is_active:true)"}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DomainSelectorQuery",selections:e,type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"DomainSelectorQuery",selections:e},params:{cacheID:"9df762094b74dc3eb8079edfcc73765f",id:null,metadata:{},name:"DomainSelectorQuery",operationKind:"query",text:"query DomainSelectorQuery {\n  domains(is_active: true) {\n    name\n  }\n}\n"}}}();t.hash="c14d362fa40cf9a3cef5d1d71202cc5f",n.default=t},13361:function(e,n,a){a.r(n);var t=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"domain_name"}],n=[{alias:"projects",args:[{kind:"Variable",name:"domain_name",variableName:"domain_name"},{kind:"Literal",name:"is_active",value:!0}],concreteType:"Group",kind:"LinkedField",name:"groups",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_active",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"resource_policy",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ProjectSelectorQuery",selections:n,type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ProjectSelectorQuery",selections:n},params:{cacheID:"eecad68ff1a08d753ce22ff2c5136c26",id:null,metadata:{},name:"ProjectSelectorQuery",operationKind:"query",text:"query ProjectSelectorQuery(\n  $domain_name: String\n) {\n  projects: groups(domain_name: $domain_name, is_active: true) {\n    id\n    is_active\n    name\n    resource_policy\n  }\n}\n"}}}();t.hash="2845b31197571f750613f64207ded239",n.default=t},81674:function(e,n,a){a.r(n);var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"QuotaScopeCardFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"quota_scope_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storage_host_name",storageKey:null},{alias:null,args:null,concreteType:"QuotaDetails",kind:"LinkedField",name:"details",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hard_limit_bytes",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"usage_bytes",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"QuotaSettingModalFragment"}],type:"QuotaScope",abstractKey:null,hash:"78fe420c92ce5b9c8d5c133d1f9c389f"};n.default=t},96685:function(e,n,a){a.r(n);var t=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"quota_scope_id"},{defaultValue:null,kind:"LocalArgument",name:"storage_host_name"}],n=[{alias:null,args:[{kind:"Variable",name:"quota_scope_id",variableName:"quota_scope_id"},{kind:"Variable",name:"storage_host_name",variableName:"storage_host_name"}],concreteType:"UnsetQuotaScope",kind:"LinkedField",name:"unset_quota_scope",plural:!1,selections:[{alias:null,args:null,concreteType:"QuotaScope",kind:"LinkedField",name:"quota_scope",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"quota_scope_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storage_host_name",storageKey:null},{alias:null,args:null,concreteType:"QuotaDetails",kind:"LinkedField",name:"details",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hard_limit_bytes",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"QuotaScopeCardUnsetMutation",selections:n,type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"QuotaScopeCardUnsetMutation",selections:n},params:{cacheID:"338836966362b14e823520f40fa56a73",id:null,metadata:{},name:"QuotaScopeCardUnsetMutation",operationKind:"mutation",text:"mutation QuotaScopeCardUnsetMutation(\n  $quota_scope_id: String!\n  $storage_host_name: String!\n) {\n  unset_quota_scope(quota_scope_id: $quota_scope_id, storage_host_name: $storage_host_name) {\n    quota_scope {\n      id\n      quota_scope_id\n      storage_host_name\n      details {\n        hard_limit_bytes\n      }\n    }\n  }\n}\n"}}}();t.hash="272001cc642518fb66015dcc367b9f65",n.default=t},64133:function(e,n,a){a.r(n);var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"QuotaSettingModalFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"quota_scope_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storage_host_name",storageKey:null},{alias:null,args:null,concreteType:"QuotaDetails",kind:"LinkedField",name:"details",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hard_limit_bytes",storageKey:null}],storageKey:null}],type:"QuotaScope",abstractKey:null,hash:"1c5ad8315a2d78cb376e7436dc6a8627"};n.default=t},95005:function(e,n,a){a.r(n);var t=function(){var e={defaultValue:null,kind:"LocalArgument",name:"props"},n={defaultValue:null,kind:"LocalArgument",name:"quota_scope_id"},a={defaultValue:null,kind:"LocalArgument",name:"storage_host_name"},t=[{alias:null,args:[{kind:"Variable",name:"props",variableName:"props"},{kind:"Variable",name:"quota_scope_id",variableName:"quota_scope_id"},{kind:"Variable",name:"storage_host_name",variableName:"storage_host_name"}],concreteType:"SetQuotaScope",kind:"LinkedField",name:"set_quota_scope",plural:!1,selections:[{alias:null,args:null,concreteType:"QuotaScope",kind:"LinkedField",name:"quota_scope",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"quota_scope_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storage_host_name",storageKey:null},{alias:null,args:null,concreteType:"QuotaDetails",kind:"LinkedField",name:"details",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hard_limit_bytes",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[e,n,a],kind:"Fragment",metadata:null,name:"QuotaSettingModalSetMutation",selections:t,type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,a,e],kind:"Operation",name:"QuotaSettingModalSetMutation",selections:t},params:{cacheID:"d337cab9be9523bfde2bfb7d6bed595b",id:null,metadata:{},name:"QuotaSettingModalSetMutation",operationKind:"mutation",text:"mutation QuotaSettingModalSetMutation(\n  $quota_scope_id: String!\n  $storage_host_name: String!\n  $props: QuotaScopeInput!\n) {\n  set_quota_scope(quota_scope_id: $quota_scope_id, storage_host_name: $storage_host_name, props: $props) {\n    quota_scope {\n      id\n      quota_scope_id\n      storage_host_name\n      details {\n        hard_limit_bytes\n      }\n    }\n  }\n}\n"}}}();t.hash="0e8509b3174920c1dd917ece91d41161",n.default=t},58156:function(e,n,a){a.r(n);var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StorageHostResourcePanelFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backend",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"capabilities",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"path",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"usage",storageKey:null}],type:"StorageVolume",abstractKey:null,hash:"30a1b4101eeb2fae45385780dbc0ddcc"};n.default=t},81047:function(e,n,a){a.r(n);var t=function(){var e={defaultValue:null,kind:"LocalArgument",name:"quota_scope_id"},n={defaultValue:null,kind:"LocalArgument",name:"skipQuotaScope"},a={defaultValue:null,kind:"LocalArgument",name:"storage_host_name"},t=[{kind:"Variable",name:"quota_scope_id",variableName:"quota_scope_id"},{kind:"Variable",name:"storage_host_name",variableName:"storage_host_name"}];return{fragment:{argumentDefinitions:[e,n,a],kind:"Fragment",metadata:null,name:"StorageHostSettingsPanelQuery",selections:[{condition:"skipQuotaScope",kind:"Condition",passingValue:!1,selections:[{alias:null,args:t,concreteType:"QuotaScope",kind:"LinkedField",name:"quota_scope",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"QuotaSettingModalFragment"},{args:null,kind:"FragmentSpread",name:"QuotaScopeCardFragment"}],storageKey:null}]}],type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,a,n],kind:"Operation",name:"StorageHostSettingsPanelQuery",selections:[{condition:"skipQuotaScope",kind:"Condition",passingValue:!1,selections:[{alias:null,args:t,concreteType:"QuotaScope",kind:"LinkedField",name:"quota_scope",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"quota_scope_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storage_host_name",storageKey:null},{alias:null,args:null,concreteType:"QuotaDetails",kind:"LinkedField",name:"details",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hard_limit_bytes",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"usage_bytes",storageKey:null}],storageKey:null}],storageKey:null}]}]},params:{cacheID:"378699d92e64ba9559bfbe8e533d6c6a",id:null,metadata:{},name:"StorageHostSettingsPanelQuery",operationKind:"query",text:"query StorageHostSettingsPanelQuery(\n  $quota_scope_id: String!\n  $storage_host_name: String!\n  $skipQuotaScope: Boolean!\n) {\n  quota_scope(storage_host_name: $storage_host_name, quota_scope_id: $quota_scope_id) @skip(if: $skipQuotaScope) {\n    ...QuotaSettingModalFragment\n    ...QuotaScopeCardFragment\n    id\n  }\n}\n\nfragment QuotaScopeCardFragment on QuotaScope {\n  id\n  quota_scope_id\n  storage_host_name\n  details {\n    hard_limit_bytes\n    usage_bytes\n  }\n  ...QuotaSettingModalFragment\n}\n\nfragment QuotaSettingModalFragment on QuotaScope {\n  id\n  quota_scope_id\n  storage_host_name\n  details {\n    hard_limit_bytes\n  }\n}\n"}}}();t.hash="ef16372a7f5bf0c1844a65d4b63fe4d9",n.default=t},16678:function(e,n,a){a.r(n);var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StorageHostSettingsPanel_storageVolumeFrgmt",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"capabilities",storageKey:null}],type:"StorageVolume",abstractKey:null,hash:"2f9e5e6060806e6f9265e5cbbd325afe"};n.default=t},54880:function(e,n,a){a.r(n);var t=function(){var e={defaultValue:null,kind:"LocalArgument",name:"filter"},n={defaultValue:null,kind:"LocalArgument",name:"limit"},a={defaultValue:null,kind:"LocalArgument",name:"offset"},t=[{alias:null,args:[{kind:"Variable",name:"filter",variableName:"filter"},{kind:"Literal",name:"is_active",value:!0},{kind:"Variable",name:"limit",variableName:"limit"},{kind:"Variable",name:"offset",variableName:"offset"}],concreteType:"UserList",kind:"LinkedField",name:"user_list",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_active",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"resource_policy",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[e,n,a],kind:"Fragment",metadata:null,name:"UserSelectorQuery",selections:t,type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,a,e],kind:"Operation",name:"UserSelectorQuery",selections:t},params:{cacheID:"f552e13a727e58f49a7a7e49a466d4d2",id:null,metadata:{},name:"UserSelectorQuery",operationKind:"query",text:"query UserSelectorQuery(\n  $limit: Int!\n  $offset: Int!\n  $filter: String\n) {\n  user_list(limit: $limit, offset: $offset, filter: $filter, is_active: true) {\n    items {\n      id\n      is_active\n      email\n      resource_policy\n    }\n  }\n}\n"}}}();t.hash="323d93fb2d8eb4ee2d1d3677121f9ad2",n.default=t},21232:function(e,n,a){a.d(n,{r:function(){return r}});var t=a(29439),l=a(67873),i=a(4519),o=function(e,n){var a=(0,l.Z)(e,{defaultValue:n}),o=(0,t.Z)(a,2),r=o[0],s=o[1],u="useLocalStorageGlobalState:"+e;return(0,i.useEffect)((function(){var e=function(e){s(e.detail)};return document.addEventListener(u,e),function(){return document.removeEventListener(u,e)}}),[s,u]),[r,function(e){document.dispatchEvent(new CustomEvent(u,{detail:e}))}]},r=function(){var e=o("backendaiwebui.settings.themeMode","system"),n=(0,t.Z)(e,2),a=n[0],l=n[1],r=o("backendaiwebui.settings.isDarkMode",window.matchMedia("(prefers-color-scheme: dark)").matches),s=(0,t.Z)(r,2),u=(s[0],s[1]);return(0,i.useEffect)((function(){if("system"===a){var e=window.matchMedia("(prefers-color-scheme: dark)");u(e.matches);var n=function(e){u(e.matches)};return e.addEventListener("change",n),function(){return e.removeEventListener("change",n)}}u("dark"===a)}),[a,u]),{themeMode:a,isDarkMode:!1,setThemeMode:function(e){l(e)}}}},17876:function(e,n,a){a.r(n),a.d(n,{default:function(){return ce}});var t,l,i,o=a(61502),r=a(99277),s=a(43255),u=a(93448),d=a(53562),c=a(70389),m=a(82548),g=a(32048),p=a.n(g),v=a(81748),f=a(16980),y=a(2556),h=function(e){var n=e.storageVolumeFrgmt,l=(0,v.$G)().t,i=(0,f.useFragment)(void 0!==t?t:t=a(58156),n),o=JSON.parse((null===i||void 0===i?void 0:i.usage)||"{}"),r=null===o||void 0===o?void 0:o.used_bytes,g=null===o||void 0===o?void 0:o.capacity_bytes,h={used_bytes:r,capacity_bytes:g,percent:Number((100*(g>0?r/g:0)).toFixed(1))};return(0,y.jsxs)(u.Z,{size:"small",bordered:!0,column:3,children:[(0,y.jsxs)(u.Z.Item,{label:l("storageHost.Usage"),span:3,children:[(null===h||void 0===h?void 0:h.percent)<100?(0,y.jsx)(d.Z,{size:[200,15],percent:null===h||void 0===h?void 0:h.percent,strokeColor:(0,s.lA)(null===h||void 0===h?void 0:h.percent)}):(0,y.jsx)(d.Z,{size:[200,15],percent:null===h||void 0===h?void 0:h.percent,status:"exception"}),(0,y.jsxs)(c.Z.Text,{type:"secondary",children:[l("storageHost.Used"),":"," "]}),(0,s.XG)(null===h||void 0===h?void 0:h.used_bytes),(0,y.jsx)(c.Z.Text,{type:"secondary",children:" / "}),(0,y.jsxs)(c.Z.Text,{type:"secondary",children:[l("storageHost.Total"),":"," "]}),(0,s.XG)(null===h||void 0===h?void 0:h.capacity_bytes)]}),(0,y.jsx)(u.Z.Item,{label:l("agent.Endpoint"),children:null===i||void 0===i?void 0:i.path}),(0,y.jsx)(u.Z.Item,{label:l("agent.BackendType"),children:null===i||void 0===i?void 0:i.backend}),(0,y.jsx)(u.Z.Item,{label:l("agent.Capabilities"),children:p().map(null===i||void 0===i?void 0:i.capabilities,(function(e){return(0,y.jsx)(m.Z,{children:e},e)}))})]})},S=a(29439),_=a(87760),k=a(1413),b=a(44925),x=a(19427),Z=a(4519),F=["onSelectDomain"],j=function(e){var n=e.onSelectDomain,t=(0,b.Z)(e,F),i=(0,v.$G)().t,o=(0,f.useLazyLoadQuery)(void 0!==l?l:l=a(33614),{},{fetchPolicy:"store-and-network"}).domains;return(0,y.jsxs)(x.Z,(0,k.Z)((0,k.Z)({onChange:function(e,a){null===n||void 0===n||n(a)},placeholder:i("storageHost.quotaSettings.SelectDomain")},t),{},{children:[p().map(o,(function(e){return(0,y.jsx)(x.Z.Option,{domainName:null===e||void 0===e?void 0:e.name,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.name)})),";"]}))},C=a(99821),q=["onSelectProject","domain","autoClearSearchValue"],K=function(e){var n=e.onSelectProject,t=e.domain,l=e.autoClearSearchValue,o=(0,b.Z)(e,q),r=(0,v.$G)().t,s=(0,C.Z)(o),u=(0,S.Z)(s,2),d=u[0],c=u[1],m=(0,f.useLazyLoadQuery)(void 0!==i?i:i=a(13361),{domain_name:t},{fetchPolicy:"store-and-network"}).projects;return(0,Z.useEffect)((function(){var e,n;l&&!d&&null!==m&&void 0!==m&&m.length&&(null===m||void 0===m?void 0:m.length)>0&&(alert(null===(e=m[0])||void 0===e?void 0:e.id),c(null===(n=m[0])||void 0===n?void 0:n.id))})),(0,y.jsx)(x.Z,(0,k.Z)((0,k.Z)({onChange:function(e,a){c(e),null===n||void 0===n||n(a)},placeholder:r("storageHost.quotaSettings.SelectProject")},o),{},{value:d,children:p().map(m,(function(e){return(0,y.jsx)(x.Z.Option,{projectId:null===e||void 0===e?void 0:e.id,projectResourcePolicy:null===e||void 0===e?void 0:e.resource_policy,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))}))},Q=a(20558),P=a(87462),w={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32zm-622.3-84c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9z"}}]},name:"edit",theme:"filled"},E=a(9491),L=function(e,n){return Z.createElement(E.Z,(0,P.Z)({},e,{ref:n,icon:w}))};var V,T,D,O,H,I,M,N,R=Z.forwardRef(L),$=a(31662),A=a(44036),U=a(54473),z=a(92171),B=a(49248),G=a(41366),W=a(88464),X=["quotaScopeFrgmt","showAddButtonWhenEmpty","onClickEdit"],Y=function(e){var n=e.quotaScopeFrgmt,t=e.showAddButtonWhenEmpty,l=e.onClickEdit,i=((0,b.Z)(e,X),(0,v.$G)().t),o=A.Z.useToken().token,u=(0,f.useFragment)(void 0!==V?V:V=a(81674),n),d=(0,f.useMutation)(void 0!==T?T:T=a(96685)),c=(0,S.Z)(d,2),m=c[0],g=c[1],p=(0,y.jsx)(U.Z,{style:{width:"100%"},image:U.Z.PRESENTED_IMAGE_SIMPLE,description:(0,y.jsx)("div",{children:i("storageHost.quotaSettings.SelectFirst")})}),h=(0,y.jsx)(U.Z,{style:{width:"100%"},image:U.Z.PRESENTED_IMAGE_SIMPLE,description:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{style:{margin:10},children:i("storageHost.quotaSettings.ClickSettingButton")}),(0,y.jsx)(z.ZP,{icon:(0,y.jsx)(Q.Z,{}),onClick:function(){return l&&l()},children:i("storageHost.quotaSettings.AddQuotaConfigs")})]})});return(0,y.jsx)(B.Z,{bordered:!0,rowKey:"id",columns:[{title:i("storageHost.quotaSettings.QuotaScopeId"),dataIndex:"quota_scope_id",key:"quota_scope_id",render:function(e){return(0,y.jsx)("code",{children:e})}},{title:i("storageHost.HardLimit")+" (GB)",dataIndex:["details","hard_limit_bytes"],key:"hard_limit_bytes",render:function(e){return(0,y.jsx)(y.Fragment,{children:(0,s.Uz)(e)})}},{title:i("storageHost.Usage")+" (GB)",dataIndex:["details","usage_bytes"],key:"usage_bytes",render:function(e){return(0,y.jsx)(y.Fragment,{children:(0,s.Uz)(e)})}},{title:i("general.Control"),key:"control",render:function(){return(0,y.jsxs)(r.Z,{gap:o.marginSM,children:[(0,y.jsx)(z.ZP,{icon:(0,y.jsx)(R,{}),onClick:function(){return l&&l()},children:i("button.Edit")}),(0,y.jsx)(G.Z,{title:i("storageHost.quotaSettings.UnsetCustomSettings"),description:i("storageHost.quotaSettings.ConfirmUnsetCustomQuota"),placement:"bottom",onConfirm:function(){u&&m({variables:{quota_scope_id:u.quota_scope_id,storage_host_name:u.storage_host_name},onCompleted:function(){W.ZP.success(i("storageHost.quotaSettings.QuotaScopeSuccessfullyUpdated"))},onError:function(e){W.ZP.error(null===e||void 0===e?void 0:e.message)}})},children:(0,y.jsx)(z.ZP,{loading:g,danger:!0,icon:(0,y.jsx)($.Z,{}),children:i("button.Unset")})})]})}}],dataSource:u?[u]:[],locale:{emptyText:t?h:p},pagination:!1})},J=a(77758),ee=a(57054),ne=a(38818),ae=["quotaScopeFrgmt","onRequestClose"],te=function(e){var n,t=e.quotaScopeFrgmt,l=void 0===t?null:t,i=e.onRequestClose,o=(0,b.Z)(e,ae),r=(0,v.$G)().t,u=ee.Z.useForm(),d=(0,S.Z)(u,1)[0],c=(0,f.useFragment)(void 0!==D?D:D=a(64133),l),m=(0,f.useMutation)(void 0!==O?O:O=a(95005)),g=(0,S.Z)(m,2),p=g[0],h=g[1];return(0,y.jsx)(J.Z,(0,k.Z)((0,k.Z)({},o),{},{style:{zIndex:1e4},destroyOnClose:!0,onOk:function(e){d.validateFields().then((function(e){p({variables:{quota_scope_id:(null===c||void 0===c?void 0:c.quota_scope_id)||"",storage_host_name:(null===c||void 0===c?void 0:c.storage_host_name)||"",props:{hard_limit_bytes:(0,s.Hz)(null===e||void 0===e?void 0:e.hard_limit_bytes)}},onCompleted:function(e){var n,a;null!==e&&void 0!==e&&null!==(n=e.set_quota_scope)&&void 0!==n&&null!==(a=n.quota_scope)&&void 0!==a&&a.id?W.ZP.success(r("storageHost.quotaSettings.QuotaScopeSuccessfullyUpdated")):W.ZP.error(r("dialog.ErrorOccurred")),i()},onError:function(e){console.log(e),W.ZP.error(null===e||void 0===e?void 0:e.message)}})}))},confirmLoading:h,onCancel:i,title:r("storageHost.quotaSettings.QuotaSettings"),children:(0,y.jsx)(ee.Z,{form:d,preserve:!1,labelCol:{span:6},wrapperCol:{span:20},validateTrigger:["onChange","onBlur"],style:{marginBottom:40,marginTop:20},children:(0,y.jsx)(ee.Z.Item,{name:"hard_limit_bytes",label:r("storageHost.HardLimit"),initialValue:(0,s.Uz)(null===c||void 0===c||null===(n=c.details)||void 0===n?void 0:n.hard_limit_bytes),rules:[{pattern:/^\d+(\.\d+)?$/,message:r("storageHost.quotaSettings.AllowNumberAndDot")||"Allows numbers and .(dot) only"}],children:(0,y.jsx)(ne.Z,{addonAfter:"GB",type:"number",step:.25,style:{width:"70%"}})})})}))},le=["onSelectUser"],ie=function(e){var n=e.onSelectUser,t=(0,b.Z)(e,le),l=(0,v.$G)().t,i=(0,Z.useState)(""),o=(0,S.Z)(i,2),r=o[0],s=o[1],u=(0,Z.useDeferredValue)(r),d=(0,f.useLazyLoadQuery)(void 0!==H?H:H=a(54880),{limit:150,offset:0,filter:0===(null===u||void 0===u?void 0:u.length)?null:'email ilike "%'+u+'%"'},{fetchPolicy:"store-and-network"}).user_list;return(0,y.jsx)(x.Z,(0,k.Z)({filterOption:!1,searchValue:r,loading:u!==r,onSearch:function(e){s(e)},onChange:function(e){n(p().find(null===d||void 0===d?void 0:d.items,(function(n){return(null===n||void 0===n?void 0:n.email)===e})))},showSearch:!0,placeholder:l("storageHost.quotaSettings.SelectUser"),options:p().map(null===d||void 0===d?void 0:d.items,(function(e){return{value:null===e||void 0===e?void 0:e.email,label:null===e||void 0===e?void 0:e.email}})).sort((function(e,n){return e.value&&n.value&&e.value>n.value?1:-1}))},t))},oe=a(63703),re=a(53066),se=a(39883),ue=function(e){var n=e.storageVolumeFrgmt,t=(0,v.$G)().t,l=(0,f.useFragment)(void 0!==I?I:I=a(16678),n),i=(0,Z.useTransition)(),o=(0,S.Z)(i,2),u=o[0],d=o[1],c=(0,_.tQ)(),m=(0,Z.useState)("user"),g=(0,S.Z)(m,2),p=g[0],h=g[1],k=(0,Z.useState)(c),b=(0,S.Z)(k,2),x=b[0],F=b[1],C=(0,Z.useState)(),q=(0,S.Z)(C,2),Q=q[0],P=q[1];(0,Z.useState)();var w=(0,Z.useState)(),E=(0,S.Z)(w,2),L=E[0],V=E[1],T=(0,Z.useState)(),D=(0,S.Z)(T,2),O=D[0],H=D[1];(0,Z.useState)();var N=(0,s.VQ)(p,("project"===p?Q:L)||""),R=(0,oe.Z)(!1),$=(0,S.Z)(R,2),A=$[0],U=$[1].toggle,z=(0,_.Kr)("default"),B=(0,S.Z)(z,1)[0],G=(0,f.useLazyLoadQuery)(void 0!==M?M:M=a(81047),{quota_scope_id:N,skipQuotaScope:void 0===N||""===N,storage_host_name:(null===l||void 0===l?void 0:l.id)||""},{fetchPolicy:"network-only",fetchKey:B}).quota_scope;return(0,y.jsx)(r.Z,{direction:"column",align:"stretch",children:(0,y.jsxs)(re.Z,{title:t("storageHost.QuotaSettings"),tabList:[{key:"user",tab:t("storageHost.ForUser")},{key:"project",tab:t("storageHost.ForProject")}],activeTabKey:p,onTabChange:function(e){d((function(){h(e)}))},children:[(0,y.jsx)(r.Z,{justify:"between",children:"project"===p?(0,y.jsx)(r.Z,{style:{marginBottom:10},children:(0,y.jsxs)(ee.Z,{layout:"inline",children:[(0,y.jsx)(ee.Z.Item,{label:t("resourceGroup.Domain"),children:(0,y.jsx)(j,{style:{width:"20vw",marginRight:10},value:x,onSelectDomain:function(e){d((function(){F(null===e||void 0===e?void 0:e.domainName),P(void 0)}))}})}),(0,y.jsx)(ee.Z.Item,{label:t("webui.menu.Project"),children:(0,y.jsx)(K,{style:{width:"20vw"},value:Q,disabled:!x,domain:x||"",onSelectProject:function(e){d((function(){P(null===e||void 0===e?void 0:e.projectId)}))}})})]})}):(0,y.jsx)(ee.Z,{layout:"inline",children:(0,y.jsx)(ee.Z.Item,{label:t("data.User"),children:(0,y.jsx)(ie,{style:{width:"30vw",marginBottom:10},value:O,onSelectUser:function(e){H(null===e||void 0===e?void 0:e.email),d((function(){V(null===e||void 0===e?void 0:e.id)}))}})})})}),(0,y.jsx)(se.Z,{spinning:u,children:(0,y.jsx)(Y,{quotaScopeFrgmt:G||null,onClickEdit:function(){U()},showAddButtonWhenEmpty:"project"===p&&!!Q||"user"===p&&!!L})}),(0,y.jsx)(te,{open:A,quotaScopeFrgmt:G||null,onRequestClose:function(){U()}})]})})},de=a(60284),ce=function(e){var n,t,l=e.storageHostId,i=A.Z.useToken().token,s=(0,_.Dj)(),u=(0,o.useWebComponentInfo)().moveTo,d=(0,v.$G)().t,m=(0,f.useLazyLoadQuery)(void 0!==N?N:N=a(62913),{id:l||""}).storage_volume,g=null!==(n=null===m||void 0===m||null===(t=m.capabilities)||void 0===t?void 0:t.includes("quota"))&&void 0!==n&&n;return(0,y.jsxs)(r.Z,{direction:"column",align:"stretch",style:{margin:i.marginSM,gap:i.margin},children:[(0,y.jsx)(de.Z,{items:[{title:"Resources",onClick:function(e){e.preventDefault(),u("/agent")},href:"/agent"},{title:"Storage setting"}]}),(0,y.jsx)(c.Z.Title,{level:3,style:{margin:0},children:l||""}),(0,y.jsx)(h,{storageVolumeFrgmt:m||null}),s.supports("quota-scope")&&(0,y.jsx)(y.Fragment,{children:g?(0,y.jsx)(Z.Suspense,{fallback:(0,y.jsx)("div",{children:"loading..."}),children:(0,y.jsx)(ue,{storageVolumeFrgmt:m||null})}):(0,y.jsx)(re.Z,{title:d("storageHost.QuotaSettings"),children:(0,y.jsx)(U.Z,{image:U.Z.PRESENTED_IMAGE_SIMPLE,description:d("storageHost.QuotaDoesNotSupported")})})})]})}},62913:function(e,n,a){a.r(n);var t=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],n=[{kind:"Variable",name:"id",variableName:"id"}],a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"capabilities",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"StorageHostSettingPageQuery",selections:[{alias:null,args:n,concreteType:"StorageVolume",kind:"LinkedField",name:"storage_volume",plural:!1,selections:[a,t,{args:null,kind:"FragmentSpread",name:"StorageHostResourcePanelFragment"},{args:null,kind:"FragmentSpread",name:"StorageHostSettingsPanel_storageVolumeFrgmt"}],storageKey:null}],type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"StorageHostSettingPageQuery",selections:[{alias:null,args:n,concreteType:"StorageVolume",kind:"LinkedField",name:"storage_volume",plural:!1,selections:[a,t,{alias:null,args:null,kind:"ScalarField",name:"backend",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"path",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"usage",storageKey:null}],storageKey:null}]},params:{cacheID:"821175f86743d9d81be2a55aca371919",id:null,metadata:{},name:"StorageHostSettingPageQuery",operationKind:"query",text:"query StorageHostSettingPageQuery(\n  $id: String\n) {\n  storage_volume(id: $id) {\n    id\n    capabilities\n    ...StorageHostResourcePanelFragment\n    ...StorageHostSettingsPanel_storageVolumeFrgmt\n  }\n}\n\nfragment StorageHostResourcePanelFragment on StorageVolume {\n  id\n  backend\n  capabilities\n  path\n  usage\n}\n\nfragment StorageHostSettingsPanel_storageVolumeFrgmt on StorageVolume {\n  id\n  capabilities\n}\n"}}}();t.hash="f6e77057e83b0449ef99e8918e794b24",n.default=t},99821:function(e,n,a){a.d(n,{Z:function(){return s}});var t=a(53316),l=a(4519),i=a(69537),o=a(72992),r=function(){var e=(0,t.CR)((0,l.useState)({}),2)[1];return(0,l.useCallback)((function(){return e({})}),[])};var s=function(e,n){void 0===e&&(e={}),void 0===n&&(n={});var a=n.defaultValue,s=n.defaultValuePropName,u=void 0===s?"defaultValue":s,d=n.valuePropName,c=void 0===d?"value":d,m=n.trigger,g=void 0===m?"onChange":m,p=e[c],v=e.hasOwnProperty(c),f=(0,l.useMemo)((function(){return v?p:e.hasOwnProperty(u)?e[u]:a}),[]),y=(0,l.useRef)(f);v&&(y.current=p);var h=r();return[y.current,(0,o.Z)((function(n){for(var a=[],l=1;l<arguments.length;l++)a[l-1]=arguments[l];var o=(0,i.mf)(n)?n(y.current):n;v||(y.current=o,h()),e[g]&&e[g].apply(e,(0,t.ev)([o],(0,t.CR)(a),!1))}))]}},63703:function(e,n,a){var t=a(53316),l=a(4519);n.Z=function(e,n){void 0===e&&(e=!1);var a=(0,t.CR)((0,l.useState)(e),2),i=a[0],o=a[1];return[i,(0,l.useMemo)((function(){var a=void 0===n?!e:n;return{toggle:function(){return o((function(n){return n===e?a:e}))},set:function(e){return o(e)},setLeft:function(){return o(e)},setRight:function(){return o(a)}}}),[])]}},41366:function(e,n,a){a.d(n,{Z:function(){return Q}});var t=a(29439),l=a(88724),i=a(43270),o=a.n(i),r=a(33714),s=a(269),u=a(34325),d=a(4519),c=a(90690),m=a(48698),g=a(26524),p=a(89014),v=a(37127),f=a(92171),y=a(42658),h=a(56951),S=a(62077),_=a(1289),k=a(4942),b=a(70111),x=(0,b.Z)("Popconfirm",(function(e){return function(e){var n,a,t=e.componentCls,l=e.iconCls,i=e.antCls,o=e.zIndexPopup,r=e.colorText,s=e.colorWarning,u=e.marginXXS,d=e.marginXS,c=e.fontSize,m=e.fontWeightStrong,g=e.colorTextHeading;return(0,k.Z)({},t,(a={zIndex:o},(0,k.Z)(a,"&".concat(i,"-popover"),{fontSize:c}),(0,k.Z)(a,"".concat(t,"-message"),(n={marginBottom:d,display:"flex",flexWrap:"nowrap",alignItems:"start"},(0,k.Z)(n,"> ".concat(t,"-message-icon ").concat(l),{color:s,fontSize:c,lineHeight:1,marginInlineEnd:d}),(0,k.Z)(n,"".concat(t,"-title"),{fontWeight:m,color:g,"&:only-child":{fontWeight:"normal"}}),(0,k.Z)(n,"".concat(t,"-description"),{marginTop:u,color:r}),n)),(0,k.Z)(a,"".concat(t,"-buttons"),{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:d}}),a))}(e)}),(function(e){return{zIndexPopup:e.zIndexPopupBase+60}}),{resetStyle:!1}),Z=function(e,n){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(a[t]=e[t]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(t=Object.getOwnPropertySymbols(e);l<t.length;l++)n.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(a[t[l]]=e[t[l]])}return a},F=function(e){var n=e.prefixCls,a=e.okButtonProps,i=e.cancelButtonProps,r=e.title,s=e.description,u=e.cancelText,c=e.okText,g=e.okType,_=void 0===g?"primary":g,k=e.icon,b=void 0===k?d.createElement(l.Z,null):k,x=e.showCancel,Z=void 0===x||x,F=e.close,j=e.onConfirm,C=e.onCancel,q=e.onPopupClick,K=d.useContext(m.E_).getPrefixCls,Q=(0,h.Z)("Popconfirm",S.Z.Popconfirm),P=(0,t.Z)(Q,1)[0],w=(0,v.Z)(r),E=(0,v.Z)(s);return d.createElement("div",{className:"".concat(n,"-inner-content"),onClick:q},d.createElement("div",{className:"".concat(n,"-message")},b&&d.createElement("span",{className:"".concat(n,"-message-icon")},b),d.createElement("div",{className:"".concat(n,"-message-text")},w&&d.createElement("div",{className:o()("".concat(n,"-title"))},w),E&&d.createElement("div",{className:"".concat(n,"-description")},E))),d.createElement("div",{className:"".concat(n,"-buttons")},Z&&d.createElement(f.ZP,Object.assign({onClick:C,size:"small"},i),null!==u&&void 0!==u?u:null===P||void 0===P?void 0:P.cancelText),d.createElement(p.Z,{buttonProps:Object.assign(Object.assign({size:"small"},(0,y.nx)(_)),a),actionFn:j,close:F,prefixCls:K("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},null!==c&&void 0!==c?c:null===P||void 0===P?void 0:P.okText)))},j=function(e){var n=e.prefixCls,a=e.placement,l=e.className,i=e.style,r=Z(e,["prefixCls","placement","className","style"]),s=(0,d.useContext(m.E_).getPrefixCls)("popconfirm",n),u=x(s);return(0,(0,t.Z)(u,1)[0])(d.createElement(_.ZP,{placement:a,className:o()(s,l),style:i,content:d.createElement(F,Object.assign({prefixCls:s},r))}))},C=void 0,q=function(e,n){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(a[t]=e[t]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(t=Object.getOwnPropertySymbols(e);l<t.length;l++)n.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(a[t[l]]=e[t[l]])}return a},K=d.forwardRef((function(e,n){var a=e.prefixCls,i=e.placement,p=void 0===i?"top":i,v=e.trigger,f=void 0===v?"click":v,y=e.okType,h=void 0===y?"primary":y,S=e.icon,_=void 0===S?d.createElement(l.Z,null):S,k=e.children,b=e.overlayClassName,Z=e.onOpenChange,j=e.onVisibleChange,K=q(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),Q=d.useContext(m.E_).getPrefixCls,P=(0,s.Z)(!1,{value:e.open,defaultValue:e.defaultOpen}),w=(0,t.Z)(P,2),E=w[0],L=w[1],V=function(e,n){L(e,!0),null===j||void 0===j||j(e),null===Z||void 0===Z||Z(e,n)},T=Q("popconfirm",a),D=o()(T,b),O=x(T);return(0,(0,t.Z)(O,1)[0])(d.createElement(g.Z,Object.assign({},(0,u.Z)(K,["title"]),{trigger:f,placement:p,onOpenChange:function(n){var a=e.disabled;void 0!==a&&a||V(n)},open:E,ref:n,overlayClassName:D,content:d.createElement(F,Object.assign({okType:h,icon:_},e,{prefixCls:T,close:function(e){V(!1,e)},onConfirm:function(n){var a;return null===(a=e.onConfirm)||void 0===a?void 0:a.call(C,n)},onCancel:function(n){var a;V(!1,n),null===(a=e.onCancel)||void 0===a||a.call(C,n)}})),"data-popover-inject":!0}),(0,c.Tm)(k,{onKeyDown:function(e){var n,a;d.isValidElement(k)&&(null===(a=null===k||void 0===k?void 0:(n=k.props).onKeyDown)||void 0===a||a.call(n,e)),function(e){e.keyCode===r.Z.ESC&&E&&V(!1,e)}(e)}})))}));K._InternalPanelDoNotUseOrYouWillBeFired=j;var Q=K}}]);
//# sourceMappingURL=876.09dcf873.chunk.js.map