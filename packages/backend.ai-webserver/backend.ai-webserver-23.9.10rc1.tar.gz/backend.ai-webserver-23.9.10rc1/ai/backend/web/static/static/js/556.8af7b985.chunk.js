"use strict";(self.webpackChunkbackend_ai_webui_react=self.webpackChunkbackend_ai_webui_react||[]).push([[556,502],{61502:function(e,n,i){i.r(n),i.d(n,{default:function(){return ee},useShadowRoot:function(){return Y},useWebComponentInfo:function(){return H}});var a=i(1413),l=i(29439),t=i(74165),r=i(15861),o=i(24530),u=i(24717),s=i(61724);function d(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,a=(0,o.Qc)(e),l=(0,u.Vn)(a,{Field:{enter:function(e){var a;if(null!==e&&void 0!==e&&null!==(a=e.directives)&&void 0!==a&&a.find((function(e){var a,l,t,r,o=e.name.value,u=null===(a=e.arguments)||void 0===a?void 0:a[0].name.value,s=null===(l=e.arguments)||void 0===l||null===(t=l[0].value)||void 0===t?void 0:t.value,d=null===(r=e.arguments)||void 0===r?void 0:r[0];if("since"===o&&"version"===u){if(i(s))return!0}else if("deprecatedSince"===o&&"version"===u){var c="StringValue"===(null===d||void 0===d?void 0:d.value.kind)?null===d||void 0===d?void 0:d.value.value:n[null===d||void 0===d?void 0:d.value.name.value];if(!i(c))return!0}else if("skipOnClient"===o&&"if"===u){if("BooleanValue"===(null===d||void 0===d?void 0:d.value.kind)&&d.value.value)return!0;if("Variable"===(null===d||void 0===d?void 0:d.value.kind)&&n[d.value.name.value])return!0}return!1})))return null},leave:function(e){var n;if(e.selectionSet&&"SelectionSet"===e.selectionSet.kind&&0===(null===(n=e.selectionSet.selections)||void 0===n?void 0:n.length))return null}},Directive:{leave:function(e){var n=e.name.value;if(["since","deprecatedSince","skipOnClient"].includes(n))return null}}}),t={};return(0,u.Vn)(l,{Variable:function(e){t[e.name.value]=(t[e.name.value]||0)+1}}),l=(0,u.Vn)(l,{VariableDefinition:{enter:function(e){if(t[e.variable.name.value]<=1)return null}}}),(0,s.S)(l)}var c=i(41011);c.RelayFeatureFlags.ENABLE_RELAY_RESOLVERS=!0;var v=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,i){var a,l,r,o,u,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==globalThis.backendaiclient){e.next=3;break}return e.next=3,new Promise((function(e){document.addEventListener("backend-ai-connected",(function n(){document.removeEventListener("backend-ai-connected",n),e(void 0)}))}));case 3:return r=d(n.text||"",i,(function(e){var n;return!(null!==(n=globalThis.backendaiclient)&&void 0!==n&&n.isManagerVersionCompatibleWith(e))})),o={query:r,variables:i},u=null===(a=globalThis.backendaiclient)||void 0===a?void 0:a.newSignedRequest("POST","/admin/gql",o),e.next=8,null===(l=globalThis.backendaiclient)||void 0===l?void 0:l._wrapWithPromise(u,!1,null,1e4,0).catch((function(e){}));case 8:if(e.t0=e.sent,e.t0){e.next=11;break}e.t0={};case 11:return s=e.t0,e.abrupt("return",s);case 13:case"end":return e.stop()}}),e)})));return function(n,i){return e.apply(this,arguments)}}();var m,f=new c.Environment({network:c.Network.create(v,void 0),store:new c.Store(new c.RecordSource)}),g=i(80382),p=i(21232),h=i(27340),b=i(41239),k=i(44036),x=i(47226),y=i(49883),S=i(66670),w=i(99517),Z=i.n(w),j=(i(24989),i(79354)),_=i.n(j),E=i(79748),T=i.n(E),L=i(51714),C=i.n(L),F=i(63540),P=i.n(F),K=i(18272),I=i.n(K),M=i(9666),V=i.n(M),O=i(64447),N=i(13881),D=i(4519),A=i(81748),Q=i(87112),R=i(16980),U=i(51843),q=i(12674),$=i(55144),B=i(73181),z=i(2556);Z().extend(V()),Z().extend(_()),Z().extend(T()),Z().extend(C()),Z().extend(I()),Z().extend(P());var G=D.createContext(null),W=D.createContext(null),Y=function(){return D.useContext(W)},H=function(){return D.useContext(G)},J=new Q.QueryClient({defaultOptions:{queries:{suspense:!0,refetchOnWindowFocus:!1,retry:!1}}});O.ZP.use(A.Db).use(N.Z).init({backend:{loadPath:"/resources/i18n/{{lng}}.json"},lng:(null===globalThis||void 0===globalThis||null===(m=globalThis.backendaioptions)||void 0===m?void 0:m.get("current_language"))||"en",fallbackLng:"en",interpolation:{escapeValue:!1},react:{transSupportBasicHtmlNodes:!0,transKeepBasicHtmlNodesFor:["br","strong","span","code","p"]}});var X=function(){var e=(0,q.s0)();return(0,D.useLayoutEffect)((function(){var n=function(n){var i=n.detail;e(i,{replace:!0})};return document.addEventListener("react-navigate",n),function(){document.removeEventListener("react-navigate",n)}}),[e]),null},ee=function(e){var n=e.children,i=e.value,t=e.styles,r=e.shadowRoot,o=e.dispatchEvent,u=(0,D.useMemo)((function(){return(0,h.Df)()}),[]),s=function(){var e,n=(0,D.useState)(null===globalThis||void 0===globalThis||null===(e=globalThis.backendaioptions)||void 0===e?void 0:e.get("current_language")),i=(0,l.Z)(n,2),a=i[0],t=i[1],r=(0,A.$G)().i18n;return(0,D.useEffect)((function(){setTimeout((function(){return null===r||void 0===r?void 0:r.changeLanguage(a)}),0),Z().locale(a)}),[]),(0,D.useEffect)((function(){var e=function(e){var n,i;t(null===e||void 0===e||null===(n=e.detail)||void 0===n?void 0:n.lang);var a=(null===e||void 0===e||null===(i=e.detail)||void 0===i?void 0:i.lang)||"en";null===r||void 0===r||r.changeLanguage(a),Z().locale(a)};return window.addEventListener("langChanged",e),function(){return window.removeEventListener("langChanged",e)}}),[r]),[a]}(),d=(0,l.Z)(s,1)[0],c=(0,g.x)(),v=(0,p.r)().isDarkMode,m=(0,D.useMemo)((function(){return{value:i,dispatchEvent:o,moveTo:function(e,n){o("moveTo",{path:e,params:n})}}}),[i,o]);return(0,z.jsx)(z.Fragment,{children:f&&(0,z.jsx)(R.RelayEnvironmentProvider,{environment:f,children:(0,z.jsxs)(D.StrictMode,{children:[(0,z.jsxs)("style",{children:[t,".anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n/* fix: fixed column shadow display outside of a table wrapper */\n.ant-table-wrapper {\n  border-radius: 8px 8px 0 0;\n  overflow: hidden;\n}\n\n/* fix: the tooltip does not appear in the `<Form.Item tooltip={'something'}` when the popup container is a parent node of the trigger node. */\n.ant-form-item-label {\n  overflow: unset !important;\n}\n"]}),(0,z.jsx)(Q.QueryClientProvider,{client:J,children:(0,z.jsx)(W.Provider,{value:r,children:(0,z.jsx)(G.Provider,{value:m,children:(0,z.jsx)(b.ZP,{getPopupContainer:function(e){return(null===e||void 0===e?void 0:e.parentNode)||r},locale:"ko"===d?S.Z:y.Z,theme:(0,a.Z)((0,a.Z)({},v?(0,a.Z)({},c.dark):(0,a.Z)({},c.light)),{},{algorithm:v?k.Z.darkAlgorithm:k.Z.defaultAlgorithm}),children:(0,z.jsx)(x.Z,{children:(0,z.jsx)(h.V9,{container:r,cache:u,children:(0,z.jsx)(D.Suspense,{fallback:"",children:(0,z.jsx)(U.VK,{children:(0,z.jsxs)($.QueryParamProvider,{adapter:B.Q,options:{},children:[(0,z.jsx)(X,{}),n]})})})})})})})})})]})})})}},4652:function(e,n,i){i.r(n);var a,l=i(1413),t=i(36459),r=i(87760),o=i(77758),u=i(61502),s=i(92171),d=i(93448),c=i(39883),v=i(82548),m=i(32048),f=i.n(m),g=(i(4519),i(81748)),p=i(87112),h=i(16980),b=i(2556);n.default=function(e){var n,m,k=Object.assign({},((0,t.Z)(e),e)),x=(0,g.$G)().t,y=(0,u.useWebComponentInfo)(),S=y.value,w=y.dispatchEvent;try{m=JSON.parse(S||"")}catch(M){m={open:!1,userEmail:""}}var Z,j=m,_=j.open,E=j.userEmail,T=(0,r.Dj)(),L=null===T||void 0===T?void 0:T.supports("sudo-session-enabled"),C=(0,p.useQuery)("isManagerSupportingTOTP",(function(){return T.isManagerSupportingTOTP()}),{suspense:!1}),F=C.data,P=C.isLoading;Z=(null===T||void 0===T?void 0:T.supports("2FA"))&&F;var K=(0,h.useLazyLoadQuery)(void 0!==a?a:a=i(21960),{email:E,isNotSupportSudoSessionEnabled:!L,isTOTPSupported:null!==(n=Z)&&void 0!==n&&n}).user,I={xxl:1,xl:1,lg:1,md:1,sm:1,xs:1};return(0,b.jsxs)(o.Z,(0,l.Z)((0,l.Z)({open:_,onCancel:function(){w("cancel",null)},centered:!0,title:x("credential.UserDetail"),footer:[(0,b.jsx)(s.ZP,{type:"primary",onClick:function(){w("cancel",null)},children:x("button.OK")},"ok")]},k),{},{children:[(0,b.jsx)("br",{}),(0,b.jsxs)(d.Z,{size:"small",column:I,title:x("credential.Information"),labelStyle:{width:"50%"},children:[(0,b.jsx)(d.Z.Item,{label:x("credential.UserID"),children:null===K||void 0===K?void 0:K.email}),(0,b.jsx)(d.Z.Item,{label:x("credential.UserName"),children:null===K||void 0===K?void 0:K.username}),(0,b.jsx)(d.Z.Item,{label:x("credential.FullName"),children:null===K||void 0===K?void 0:K.full_name}),(0,b.jsx)(d.Z.Item,{label:x("credential.MainAccessKey"),children:null===K||void 0===K?void 0:K.main_access_key}),(0,b.jsx)(d.Z.Item,{label:x("credential.DescActiveUser"),children:"active"===(null===K||void 0===K?void 0:K.status)?x("button.Yes"):x("button.No")}),(0,b.jsx)(d.Z.Item,{label:x("credential.DescRequirePasswordChange"),children:null!==K&&void 0!==K&&K.need_password_change?x("button.Yes"):x("button.No")}),L&&(0,b.jsx)(d.Z.Item,{label:x("credential.EnableSudoSession"),children:null!==K&&void 0!==K&&K.sudo_session_enabled?x("button.Yes"):x("button.No")}),Z&&(0,b.jsx)(d.Z.Item,{label:x("webui.menu.TotpActivated"),children:(0,b.jsx)(c.Z,{spinning:P,children:null!==K&&void 0!==K&&K.totp_activated?x("button.Yes"):x("button.No")})})]}),(0,b.jsx)("br",{}),(0,b.jsxs)(d.Z,{size:"small",column:I,title:x("credential.Association"),labelStyle:{width:"50%"},children:[(0,b.jsx)(d.Z.Item,{label:x("credential.Domain"),children:null===K||void 0===K?void 0:K.domain_name}),(0,b.jsx)(d.Z.Item,{label:x("credential.Role"),children:null===K||void 0===K?void 0:K.role})]}),(0,b.jsx)("br",{}),(0,b.jsx)(d.Z,{title:x("credential.ProjectAndGroup"),labelStyle:{width:"50%"},children:(0,b.jsx)(d.Z.Item,{children:f().map(null===K||void 0===K?void 0:K.groups,(function(e){return(0,b.jsx)(v.Z,{children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))})})]}))}},21960:function(e,n,i){i.r(n);var a=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"email"},{defaultValue:null,kind:"LocalArgument",name:"isNotSupportSudoSessionEnabled"},{defaultValue:null,kind:"LocalArgument",name:"isTOTPSupported"}],n=[{kind:"Variable",name:"email",variableName:"email"}],i={alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"need_password_change",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"domain_name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c={alias:null,args:null,concreteType:"UserGroup",kind:"LinkedField",name:"groups",plural:!0,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"sudo_session_enabled",storageKey:null},m={condition:"isTOTPSupported",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"totp_activated",storageKey:null}]},f={alias:null,args:null,kind:"ScalarField",name:"main_access_key",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"UserInfoModalQuery",selections:[{alias:null,args:n,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[i,a,l,t,r,o,u,s,c,v,m,f],storageKey:null}],type:"Queries",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"UserInfoModalQuery",selections:[{alias:null,args:n,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[i,a,l,t,r,o,u,s,c,v,m,f,d],storageKey:null}]},params:{cacheID:"129326e5b3fef57774f2f8359d108efb",id:null,metadata:{},name:"UserInfoModalQuery",operationKind:"query",text:'query UserInfoModalQuery(\n  $email: String\n  $isNotSupportSudoSessionEnabled: Boolean!\n  $isTOTPSupported: Boolean!\n) {\n  user(email: $email) {\n    email\n    username\n    need_password_change\n    full_name\n    description\n    status\n    domain_name\n    role\n    groups {\n      id\n      name\n    }\n    sudo_session_enabled @skipOnClient(if: $isNotSupportSudoSessionEnabled)\n    totp_activated @include(if: $isTOTPSupported)\n    main_access_key @since(version: "23.09.7")\n    id\n  }\n}\n'}}}();a.hash="e2f5a5bfd435e95cb128afc7a7fbcd46",n.default=a},21232:function(e,n,i){i.d(n,{r:function(){return o}});var a=i(29439),l=i(67873),t=i(4519),r=function(e,n){var i=(0,l.Z)(e,{defaultValue:n}),r=(0,a.Z)(i,2),o=r[0],u=r[1],s="useLocalStorageGlobalState:"+e;return(0,t.useEffect)((function(){var e=function(e){u(e.detail)};return document.addEventListener(s,e),function(){return document.removeEventListener(s,e)}}),[u,s]),[o,function(e){document.dispatchEvent(new CustomEvent(s,{detail:e}))}]},o=function(){var e=r("backendaiwebui.settings.themeMode","system"),n=(0,a.Z)(e,2),i=n[0],l=n[1],o=r("backendaiwebui.settings.isDarkMode",window.matchMedia("(prefers-color-scheme: dark)").matches),u=(0,a.Z)(o,2),s=(u[0],u[1]);return(0,t.useEffect)((function(){if("system"===i){var e=window.matchMedia("(prefers-color-scheme: dark)");s(e.matches);var n=function(e){s(e.matches)};return e.addEventListener("change",n),function(){return e.removeEventListener("change",n)}}s("dark"===i)}),[i,s]),{themeMode:i,isDarkMode:!1,setThemeMode:function(e){l(e)}}}}}]);
//# sourceMappingURL=556.8af7b985.chunk.js.map